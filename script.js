const _0x3f0f25=_0xbc94;(function(_0x11aafe,_0x4582be){const _0x2c6bd6=_0xbc94,_0x314950=_0x11aafe();while(!![]){try{const _0x416859=parseInt(_0x2c6bd6(0x1a2))/0x1+parseInt(_0x2c6bd6(0x29f))/0x2+parseInt(_0x2c6bd6(0x1da))/0x3+-parseInt(_0x2c6bd6(0x207))/0x4*(parseInt(_0x2c6bd6(0x136))/0x5)+parseInt(_0x2c6bd6(0x2f3))/0x6+-parseInt(_0x2c6bd6(0x1ca))/0x7+-parseInt(_0x2c6bd6(0x24c))/0x8*(parseInt(_0x2c6bd6(0x241))/0x9);if(_0x416859===_0x4582be)break;else _0x314950['push'](_0x314950['shift']());}catch(_0x38fec1){_0x314950['push'](_0x314950['shift']());}}}(_0x1817,0xd9d26));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js';import{getAuth,onAuthStateChanged,signInWithEmailAndPassword,createUserWithEmailAndPassword,sendPasswordResetEmail,signOut}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js';import{getDatabase,ref,onValue,set,update,get,push,remove}from'https://www.gstatic.com/firebasejs/11.6.1/firebase-database.js';const firebaseConfig={'apiKey':_0x3f0f25(0x20b),'authDomain':_0x3f0f25(0x17f),'databaseURL':_0x3f0f25(0x2e2),'projectId':_0x3f0f25(0x2d2),'storageBucket':_0x3f0f25(0x284),'messagingSenderId':_0x3f0f25(0x10e),'appId':'1:380690422701:web:17da1bb5f55f12f3625f24'},app=initializeApp(firebaseConfig),auth=getAuth(app),database=getDatabase(app);let currentTripRef,dataUnsubscribe,currentTripId=null,appData={'owner':null,'groupEventName':'','buddies':[],'expenses':[],'adjustments':[],'primaryCurrency':_0x3f0f25(0x1e2)},editingExpenseIndex=-0x1,isCalculatorResultShown=![],scrollToExpenseId=null,emblaInstances=[];const API_KEY=_0x3f0f25(0x2c3),fallbackRates={'HKD':7.8,'CNY':7.2,'GBP':0.79,'JPY':0x9d,'THB':36.5,'TWD':32.5,'KRW':0x564,'SGD':1.35,'USD':0x1,'EUR':0.92,'AUD':1.5,'CAD':1.35,'NZD':1.6,'CHF':0.9,'MYR':4.7,'VND':0x6338,'PHP':58.5,'IDR':0x3fac};let exchangeRates={};const authPage=document['getElementById'](_0x3f0f25(0x278)),noTripsPage=document[_0x3f0f25(0x27c)]('page-no-trips'),invitationConfirmPage=document[_0x3f0f25(0x27c)](_0x3f0f25(0x12d)),appContent=document['getElementById']('app-content'),appNav=document[_0x3f0f25(0x27c)](_0x3f0f25(0x2e4)),tripSwitcherBtn=document[_0x3f0f25(0x27c)](_0x3f0f25(0x1a9)),currentTripNameEl=document[_0x3f0f25(0x27c)]('current-trip-name'),loginContainer=document['getElementById']('login-container'),registerContainer=document[_0x3f0f25(0x27c)]('register-container'),loginForm=document[_0x3f0f25(0x27c)](_0x3f0f25(0x19a)),registerForm=document[_0x3f0f25(0x27c)](_0x3f0f25(0x24b)),forgotPasswordLink=document['getElementById']('forgot-password'),mealButtons=document[_0x3f0f25(0x254)](_0x3f0f25(0x2df)),currencyButtons=document[_0x3f0f25(0x254)](_0x3f0f25(0x25d)),addExpenseBtn=document[_0x3f0f25(0x27c)](_0x3f0f25(0x270)),resetBtn=document[_0x3f0f25(0x27c)](_0x3f0f25(0x260)),copyWhatsappBtn=document[_0x3f0f25(0x27c)](_0x3f0f25(0x1e3)),addBuddyBtn=document[_0x3f0f25(0x27c)](_0x3f0f25(0x1ee)),newBuddyInput=document[_0x3f0f25(0x27c)](_0x3f0f25(0x279)),doneBuddiesBtn=document[_0x3f0f25(0x27c)]('done-buddies'),groupEventNameInput=document[_0x3f0f25(0x27c)](_0x3f0f25(0x2db)),clearTripNameBtn=document[_0x3f0f25(0x27c)](_0x3f0f25(0x1a1)),tripPrimaryCurrencySelect=document[_0x3f0f25(0x27c)](_0x3f0f25(0x29e)),expenseFormTitle=document['getElementById'](_0x3f0f25(0x28d)),errorMsgElement=document[_0x3f0f25(0x27c)](_0x3f0f25(0x1bd)),navButtons=document[_0x3f0f25(0x254)](_0x3f0f25(0x195)),selectAllBuddiesCheckbox=document[_0x3f0f25(0x27c)]('select-all-buddies'),adjustmentDebtorSelect=document[_0x3f0f25(0x27c)](_0x3f0f25(0x246)),adjustmentCreditorSelect=document[_0x3f0f25(0x27c)](_0x3f0f25(0x2c1)),tripSwitcherModal=document[_0x3f0f25(0x27c)](_0x3f0f25(0x2ac)),loggedInInfoDiv=document[_0x3f0f25(0x27c)](_0x3f0f25(0x193)),loggedInEmailSpan=document[_0x3f0f25(0x27c)]('logged-in-email'),logoutLink=document['getElementById'](_0x3f0f25(0x1be)),loggedInInfoNoTripsDiv=document[_0x3f0f25(0x27c)](_0x3f0f25(0x189)),loggedInEmailNoTripsSpan=document[_0x3f0f25(0x27c)](_0x3f0f25(0x2b6)),logoutLinkNoTrips=document[_0x3f0f25(0x27c)](_0x3f0f25(0x173)),closeIconBtn=document[_0x3f0f25(0x27c)]('close-modal-icon-btn'),calculatorInput=document[_0x3f0f25(0x27c)]('calculator-input'),adjustmentAmountInput=document[_0x3f0f25(0x27c)](_0x3f0f25(0x174)),clearCalculatorBtn=document[_0x3f0f25(0x27c)]('clear-calculator-btn'),mealRecordsContainer=document[_0x3f0f25(0x27c)](_0x3f0f25(0x2ec)),addDayDividerBtn=document[_0x3f0f25(0x27c)]('add-day-divider-btn'),loadingOverlay=document[_0x3f0f25(0x27c)](_0x3f0f25(0x142)),loadingText=document[_0x3f0f25(0x27c)](_0x3f0f25(0x200)),universalPromptModal=document[_0x3f0f25(0x27c)](_0x3f0f25(0x238)),modalPromptTitle=document[_0x3f0f25(0x27c)](_0x3f0f25(0x11a)),modalPromptMessage=document[_0x3f0f25(0x27c)](_0x3f0f25(0x2ef)),modalPromptInput=document[_0x3f0f25(0x27c)](_0x3f0f25(0x2a6)),modalCancelBtn=document[_0x3f0f25(0x27c)]('modal-cancel-btn'),modalConfirmBtn=document[_0x3f0f25(0x27c)](_0x3f0f25(0x261)),modalClearInputBtn=document[_0x3f0f25(0x27c)](_0x3f0f25(0x20c));function initEmblaCarousels(){const _0x32c8fc=_0x3f0f25;emblaInstances['forEach'](_0x194d34=>_0x194d34[_0x32c8fc(0x237)]()),emblaInstances=[];const _0x1ae072={'align':'start','containScroll':_0x32c8fc(0x18f),'dragFree':!![]},_0x106d83=document[_0x32c8fc(0x27c)](_0x32c8fc(0x1b6)),_0x37b11b=document[_0x32c8fc(0x27c)]('currency-carousel');if(_0x106d83){const _0x2e66c4=EmblaCarousel(_0x106d83,_0x1ae072);emblaInstances['push'](_0x2e66c4);}if(_0x37b11b){const _0x1572d4=EmblaCarousel(_0x37b11b,_0x1ae072);emblaInstances[_0x32c8fc(0x10d)](_0x1572d4);}}window['onload']=function(){initEmblaCarousels();};function showLoading(_0x2a7eec=_0x3f0f25(0x2da)){const _0x54e808=_0x3f0f25;loadingOverlay&&(loadingText[_0x54e808(0x18a)]=_0x2a7eec,loadingOverlay[_0x54e808(0x180)][_0x54e808(0x2ee)](_0x54e808(0x132)),requestAnimationFrame(()=>{const _0x2187e1=_0x54e808;loadingOverlay[_0x2187e1(0x180)]['remove'](_0x2187e1(0x10b));}));}function hideLoading(){const _0x9cf56b=_0x3f0f25;loadingOverlay&&(loadingOverlay[_0x9cf56b(0x180)]['add'](_0x9cf56b(0x10b)),setTimeout(()=>{const _0x4553a5=_0x9cf56b;loadingOverlay[_0x4553a5(0x180)][_0x4553a5(0x12e)](_0x4553a5(0x132));},0x12c));}onAuthStateChanged(auth,async _0x2e483f=>{const _0x5c428d=_0x3f0f25,_0x5070f9=new URLSearchParams(window[_0x5c428d(0x2fb)][_0x5c428d(0x276)]),_0x1602bc=_0x5070f9['get'](_0x5c428d(0x286));_0x2e483f?(showLoading('Logging\x20you\x20in...'),authPage[_0x5c428d(0x180)][_0x5c428d(0x12e)]('hidden'),loggedInEmailSpan[_0x5c428d(0x18a)]=_0x2e483f[_0x5c428d(0x228)],loggedInInfoDiv[_0x5c428d(0x180)][_0x5c428d(0x2ee)](_0x5c428d(0x132)),loggedInEmailNoTripsSpan['textContent']=_0x2e483f[_0x5c428d(0x228)],loggedInInfoNoTripsDiv[_0x5c428d(0x180)]['remove'](_0x5c428d(0x132)),_0x1602bc?await handleInvitation(_0x1602bc,_0x2e483f):await loadUserDashboard(_0x2e483f[_0x5c428d(0x268)]),hideLoading()):(currentTripRef&&dataUnsubscribe&&dataUnsubscribe(),currentTripRef=null,dataUnsubscribe=null,currentTripId=null,appContent[_0x5c428d(0x180)]['add']('hidden'),appNav[_0x5c428d(0x180)]['add']('hidden'),noTripsPage['classList'][_0x5c428d(0x12e)](_0x5c428d(0x132)),invitationConfirmPage['classList'][_0x5c428d(0x12e)](_0x5c428d(0x132)),tripSwitcherBtn['classList'][_0x5c428d(0x12e)](_0x5c428d(0x132)),loggedInInfoDiv['classList'][_0x5c428d(0x12e)](_0x5c428d(0x132)),loggedInInfoNoTripsDiv[_0x5c428d(0x180)]['add'](_0x5c428d(0x132)),authPage[_0x5c428d(0x180)]['remove'](_0x5c428d(0x132)),hideLoading(),appData={'owner':null,'groupEventName':'','buddies':[],'expenses':[],'adjustments':[],'primaryCurrency':'HKD'},clearAllUI());});async function handleInvitation(_0xfe124a,_0x5ab42f){const _0x5ed4b2=_0x3f0f25;try{showLoading(_0x5ed4b2(0x23c));const _0xd273aa=ref(database,_0x5ed4b2(0x258)+_0xfe124a),_0x7b1f03=await get(_0xd273aa);if(!_0x7b1f03[_0x5ed4b2(0x161)]()){showError(_0x5ed4b2(0x179)),window[_0x5ed4b2(0x1e5)]['replaceState']({},document['title'],window[_0x5ed4b2(0x2fb)][_0x5ed4b2(0x243)]),await loadUserDashboard(_0x5ab42f[_0x5ed4b2(0x268)]),hideLoading();return;}const _0x5c9823=_0x7b1f03[_0x5ed4b2(0x2c7)]();if(_0x5c9823['members']&&_0x5c9823['members'][_0x5ab42f[_0x5ed4b2(0x268)]]){showError(_0x5ed4b2(0x266),0xbb8,'success'),window[_0x5ed4b2(0x1e5)][_0x5ed4b2(0x2c5)]({},document[_0x5ed4b2(0x22e)],window[_0x5ed4b2(0x2fb)][_0x5ed4b2(0x243)]),await loadTrip(_0xfe124a),hideLoading();return;}showInvitationConfirmation(_0x5c9823['groupEventName']||_0x5ed4b2(0x16d),async()=>{const _0x9aa886=_0x5ed4b2;showLoading(_0x9aa886(0x170)),await joinTrip(_0xfe124a,_0x5ab42f[_0x9aa886(0x268)],_0x5ab42f['email']),window[_0x9aa886(0x1e5)][_0x9aa886(0x2c5)]({},document['title'],window[_0x9aa886(0x2fb)][_0x9aa886(0x243)]),await loadTrip(_0xfe124a),hideLoading();},async()=>{const _0x5ef891=_0x5ed4b2;invitationConfirmPage[_0x5ef891(0x180)]['add'](_0x5ef891(0x132)),window['history'][_0x5ef891(0x2c5)]({},document[_0x5ef891(0x22e)],window[_0x5ef891(0x2fb)][_0x5ef891(0x243)]),await loadUserDashboard(_0x5ab42f['uid']),hideLoading();});}catch(_0x272fff){showError(_0x5ed4b2(0x21a)+_0x272fff[_0x5ed4b2(0x1f5)]),window[_0x5ed4b2(0x1e5)]['replaceState']({},document['title'],window['location'][_0x5ed4b2(0x243)]),await loadUserDashboard(_0x5ab42f[_0x5ed4b2(0x268)]),hideLoading();}}function showInvitationConfirmation(_0x545207,_0x3c1c9f,_0x8d9043){const _0x4af90d=_0x3f0f25,_0x1bdae8=document[_0x4af90d(0x27c)](_0x4af90d(0x1c2)),_0x136702=document['getElementById'](_0x4af90d(0x297)),_0x1f5c0d=document[_0x4af90d(0x27c)]('cancel-join-btn'),_0x317f25=invitationConfirmPage[_0x4af90d(0x2c8)](_0x4af90d(0x223));_0x1bdae8[_0x4af90d(0x18a)]='\x22'+_0x545207+'\x22',authPage[_0x4af90d(0x180)][_0x4af90d(0x12e)](_0x4af90d(0x132)),noTripsPage[_0x4af90d(0x180)][_0x4af90d(0x12e)](_0x4af90d(0x132)),appContent[_0x4af90d(0x180)][_0x4af90d(0x12e)]('hidden'),appNav['classList'][_0x4af90d(0x12e)]('hidden'),invitationConfirmPage[_0x4af90d(0x180)]['remove'](_0x4af90d(0x132)),requestAnimationFrame(()=>{const _0x1f70cc=_0x4af90d;_0x317f25[_0x1f70cc(0x180)][_0x1f70cc(0x2ee)](_0x1f70cc(0x29c),_0x1f70cc(0x10b));}),_0x136702[_0x4af90d(0x17b)]=_0x3c1c9f,_0x1f5c0d[_0x4af90d(0x17b)]=_0x8d9043;}loginForm[_0x3f0f25(0x289)]('submit',_0x35d299=>{const _0x3b33fa=_0x3f0f25;_0x35d299[_0x3b33fa(0x255)]();const _0x49e179=document[_0x3b33fa(0x27c)]('login-email')[_0x3b33fa(0x1ef)],_0x2757d2=document['getElementById']('login-password')[_0x3b33fa(0x1ef)];showLoading('Logging\x20in...'),signInWithEmailAndPassword(auth,_0x49e179,_0x2757d2)[_0x3b33fa(0x1d9)](_0x15c3b1=>{const _0x9135f3=_0x3b33fa;showError(_0x9135f3(0x299)+_0x15c3b1[_0x9135f3(0x1f5)]),hideLoading();});}),registerForm[_0x3f0f25(0x289)](_0x3f0f25(0x24d),_0x52bce9=>{const _0x22b3cd=_0x3f0f25;_0x52bce9['preventDefault']();const _0x2c1218=document[_0x22b3cd(0x27c)](_0x22b3cd(0x1e4))[_0x22b3cd(0x1ef)],_0x3e203f=document[_0x22b3cd(0x27c)](_0x22b3cd(0x1a8))['value'],_0x297de5=document[_0x22b3cd(0x27c)]('register-password-confirm')[_0x22b3cd(0x1ef)];if(_0x3e203f!==_0x297de5){showError('Passwords\x20do\x20not\x20match.');return;}showLoading('Registering\x20account...'),createUserWithEmailAndPassword(auth,_0x2c1218,_0x3e203f)[_0x22b3cd(0x1d9)](_0x6e397=>{const _0xf3c0ae=_0x22b3cd;showError(_0xf3c0ae(0x248)+_0x6e397['message']),hideLoading();});});async function handlePasswordReset(_0x38f6cf){const _0x481631=_0x3f0f25;_0x38f6cf[_0x481631(0x255)]();const _0x10d51c=await showPromptModal(_0x481631(0x1e9),'Please\x20enter\x20your\x20email\x20address.\x20We\x20will\x20send\x20you\x20a\x20link\x20to\x20reset\x20your\x20password.',document['getElementById'](_0x481631(0x13c))['value'],_0x481631(0x1d8));_0x10d51c&&(showLoading(_0x481631(0x16c)),sendPasswordResetEmail(auth,_0x10d51c)[_0x481631(0x2e0)](()=>{const _0x58f205=_0x481631;showError(_0x58f205(0x2d6),0x1388,'success');})[_0x481631(0x1d9)](_0x32b493=>{const _0x418df2=_0x481631;showError(_0x418df2(0x280)+_0x32b493[_0x418df2(0x1f5)]);})[_0x481631(0x14b)](()=>{hideLoading();}));}forgotPasswordLink[_0x3f0f25(0x289)](_0x3f0f25(0x203),handlePasswordReset),logoutLink[_0x3f0f25(0x289)]('click',_0x4eb2e0=>{const _0x27d0b0=_0x3f0f25;_0x4eb2e0[_0x27d0b0(0x255)](),closeTripSwitcherModal(),showLoading('Logging\x20out...'),signOut(auth);}),logoutLinkNoTrips['addEventListener']('click',_0x4fd2a8=>{const _0xa2a861=_0x3f0f25;_0x4fd2a8[_0xa2a861(0x255)](),showLoading('Logging\x20out...'),signOut(auth);}),document[_0x3f0f25(0x27c)]('show-register')[_0x3f0f25(0x289)]('click',_0x2b44a6=>{const _0x4a3b3f=_0x3f0f25;_0x2b44a6[_0x4a3b3f(0x255)](),loginContainer[_0x4a3b3f(0x180)][_0x4a3b3f(0x12e)](_0x4a3b3f(0x132)),registerContainer[_0x4a3b3f(0x180)][_0x4a3b3f(0x2ee)](_0x4a3b3f(0x132));}),document[_0x3f0f25(0x27c)](_0x3f0f25(0x253))[_0x3f0f25(0x289)](_0x3f0f25(0x203),_0x210014=>{const _0x541c20=_0x3f0f25;_0x210014['preventDefault'](),registerContainer['classList'][_0x541c20(0x12e)]('hidden'),loginContainer[_0x541c20(0x180)]['remove'](_0x541c20(0x132));});async function loadUserDashboard(_0x275ba7){const _0x2ab566=_0x3f0f25;showLoading(_0x2ab566(0x257));const _0x2363a5=ref(database,_0x2ab566(0x19b)+_0x275ba7+_0x2ab566(0x1fd)),_0x4f81c6=await get(_0x2363a5),_0x526c4=_0x4f81c6[_0x2ab566(0x2c7)]();if(_0x526c4){const _0x1884cd=localStorage[_0x2ab566(0x213)]('lastActiveTripId'),_0x5ca059=_0x526c4[_0x1884cd]?_0x1884cd:Object[_0x2ab566(0x1d3)](_0x526c4)[0x0];await loadTrip(_0x5ca059);}else currentTripId=null,appContent['classList'][_0x2ab566(0x12e)](_0x2ab566(0x132)),appNav[_0x2ab566(0x180)][_0x2ab566(0x12e)](_0x2ab566(0x132)),noTripsPage['classList']['remove'](_0x2ab566(0x132)),tripSwitcherBtn[_0x2ab566(0x180)][_0x2ab566(0x12e)]('hidden');hideLoading();}async function loadTrip(_0x57840f){const _0xde73bb=_0x3f0f25;showLoading(_0xde73bb(0x16f)),currentTripRef&&dataUnsubscribe&&dataUnsubscribe(),currentTripId=_0x57840f,localStorage[_0xde73bb(0x22b)]('lastActiveTripId',_0x57840f),currentTripRef=ref(database,_0xde73bb(0x258)+_0x57840f),listenForDataChanges(),appContent[_0xde73bb(0x180)][_0xde73bb(0x2ee)](_0xde73bb(0x132)),appNav[_0xde73bb(0x180)]['remove'](_0xde73bb(0x132)),tripSwitcherBtn[_0xde73bb(0x180)][_0xde73bb(0x2ee)](_0xde73bb(0x132)),authPage['classList'][_0xde73bb(0x12e)](_0xde73bb(0x132)),noTripsPage['classList']['add']('hidden'),invitationConfirmPage[_0xde73bb(0x180)][_0xde73bb(0x12e)](_0xde73bb(0x132)),showPage(_0xde73bb(0x12a)),hideLoading();}function listenForDataChanges(){currentTripRef&&(dataUnsubscribe=onValue(currentTripRef,async _0x17b56a=>{const _0x51e6e8=_0xbc94,_0x891f0a=_0x17b56a['val'](),_0x416d7c=auth['currentUser'];if(!_0x891f0a){console[_0x51e6e8(0x10a)](_0x51e6e8(0x1a3)+currentTripId+'\x20was\x20deleted.');currentTripId===localStorage['getItem'](_0x51e6e8(0x183))&&localStorage[_0x51e6e8(0x1af)](_0x51e6e8(0x183));dataUnsubscribe(),await loadUserDashboard(_0x416d7c['uid']),showError('The\x20current\x20trip\x20has\x20been\x20deleted.',0xbb8,_0x51e6e8(0x1bd));return;}if(_0x416d7c&&_0x891f0a[_0x51e6e8(0x29b)]&&!_0x891f0a[_0x51e6e8(0x29b)][_0x416d7c['uid']]){console[_0x51e6e8(0x10a)](_0x51e6e8(0x2a5)+_0x416d7c[_0x51e6e8(0x268)]+_0x51e6e8(0x26b)+currentTripId+'.');currentTripId===localStorage[_0x51e6e8(0x213)](_0x51e6e8(0x183))&&localStorage[_0x51e6e8(0x1af)]('lastActiveTripId');dataUnsubscribe(),await loadUserDashboard(_0x416d7c[_0x51e6e8(0x268)]),showError(_0x51e6e8(0x167),0xfa0,_0x51e6e8(0x1bd));return;}const _0x263661=appData[_0x51e6e8(0x214)],_0x223e52=_0x891f0a['primaryCurrency']||_0x51e6e8(0x1e2),_0x55643a=_0x263661!==_0x223e52||Object['keys'](exchangeRates)[_0x51e6e8(0x169)]===0x0;let _0x5dc188=_0x891f0a[_0x51e6e8(0x162)]||[];_0x5dc188=_0x5dc188[_0x51e6e8(0x267)]((_0x516e38,_0x467bee)=>{const _0x441eb1=_0x51e6e8;if(typeof _0x516e38['type']===_0x441eb1(0x215))return{..._0x516e38,'type':_0x441eb1(0x1b8),'id':_0x516e38['id']||new Date(_0x516e38[_0x441eb1(0x1f8)])['getTime']()||Date['now']()+_0x467bee};return _0x516e38;}),appData={'owner':_0x891f0a[_0x51e6e8(0x291)]||null,'members':_0x891f0a['members']||{},'groupEventName':_0x891f0a[_0x51e6e8(0x190)]||'','buddies':_0x891f0a['buddies']||[],'expenses':_0x5dc188,'adjustments':_0x891f0a['adjustments']||[],'primaryCurrency':_0x223e52},_0x55643a?await fetchExchangeRates():updateAllUI();},_0x520145=>{const _0x42d254=_0xbc94;console[_0x42d254(0x1bd)](_0x42d254(0x13f),_0x520145),showError(_0x42d254(0x2a2));}));}async function joinTrip(_0x2b10cb,_0x1ae5ca,_0x530953){const _0x269826=_0x3f0f25;try{const _0x62aea7={'email':_0x530953};await update(ref(database,_0x269826(0x258)+_0x2b10cb+'/members'),{[_0x1ae5ca]:_0x62aea7}),await set(ref(database,_0x269826(0x19b)+_0x1ae5ca+_0x269826(0x281)+_0x2b10cb),!![]),showError(_0x269826(0x13d),0xbb8,_0x269826(0x155));}catch(_0x44f1f5){showError(_0x269826(0x1d2)+_0x44f1f5[_0x269826(0x1f5)]);}}async function createNewTrip(){const _0x531d87=_0x3f0f25,_0x3db6b9=await showPromptModal(_0x531d87(0x256),_0x531d87(0x2d4),'',_0x531d87(0x2bd));if(!_0x3db6b9||!_0x3db6b9[_0x531d87(0x2a1)]())return;const _0xd83b34=auth[_0x531d87(0x11c)];if(!_0xd83b34){showError('You\x20must\x20be\x20logged\x20in\x20to\x20create\x20a\x20trip.');return;}showLoading(_0x531d87(0x292));const _0x4e305f=push(ref(database,_0x531d87(0x1eb))),_0x239749=_0x4e305f['key'],_0xa2239c=_0xd83b34[_0x531d87(0x198)]||_0xd83b34[_0x531d87(0x228)][_0x531d87(0x18e)]('@')[0x0]||'Me',_0x575631={'owner':_0xd83b34['uid'],'members':{[_0xd83b34['uid']]:{'email':_0xd83b34[_0x531d87(0x228)]}},'groupEventName':_0x3db6b9['trim'](),'buddies':[_0xa2239c],'expenses':[],'adjustments':[],'primaryCurrency':'HKD'};try{await set(_0x4e305f,_0x575631),await set(ref(database,_0x531d87(0x19b)+_0xd83b34[_0x531d87(0x268)]+_0x531d87(0x281)+_0x239749),!![]),await loadTrip(_0x239749),hideLoading();}catch(_0x2bef34){showError('Failed\x20to\x20create\x20trip:\x20'+_0x2bef34[_0x531d87(0x1f5)]),hideLoading();}}async function updateAndPopulateTripSwitcher(){const _0x83d16c=_0x3f0f25,_0x7a5be5=auth[_0x83d16c(0x11c)];if(!_0x7a5be5)return;const _0x555e27=ref(database,_0x83d16c(0x19b)+_0x7a5be5[_0x83d16c(0x268)]+_0x83d16c(0x1fd)),_0x255417=await get(_0x555e27),_0x4d868a=_0x255417[_0x83d16c(0x2c7)](),_0x266870=document[_0x83d16c(0x27c)]('trip-list-menu');_0x266870[_0x83d16c(0x232)]='';if(!_0x4d868a){_0x266870['innerHTML']=_0x83d16c(0x229);return;}const _0xbcf9b4=Object[_0x83d16c(0x1d3)](_0x4d868a)[_0x83d16c(0x267)](async _0x37550b=>{const _0x1c4013=_0x83d16c,_0x2334f9=await get(ref(database,_0x1c4013(0x258)+_0x37550b)),_0x1f1d15=_0x2334f9[_0x1c4013(0x2c7)]();if(!_0x1f1d15)return null;return{'id':_0x37550b,'name':_0x1f1d15[_0x1c4013(0x190)]||_0x1c4013(0x28e),'owner':_0x1f1d15[_0x1c4013(0x291)],'members':_0x1f1d15['members']||{}};}),_0xbe0287=(await Promise[_0x83d16c(0x1ce)](_0xbcf9b4))[_0x83d16c(0x124)](Boolean);_0xbe0287[_0x83d16c(0x1df)](_0x54fe61=>{const _0x382475=_0x83d16c,_0x48c437=_0x7a5be5[_0x382475(0x268)]===_0x54fe61[_0x382475(0x291)],_0x392fa6=_0x48c437?'\x20(Owned)':'',_0x5e4ffe=Object[_0x382475(0x1d3)](_0x54fe61[_0x382475(0x29b)]),_0x1ac3a3=document[_0x382475(0x27f)](_0x382475(0x223));_0x1ac3a3['className']=_0x382475(0x1e8);const _0x480e85=document[_0x382475(0x27f)](_0x382475(0x223));_0x480e85[_0x382475(0x1fe)]=_0x382475(0x2eb)+(_0x54fe61['id']===currentTripId?_0x382475(0x1c4):''),_0x480e85[_0x382475(0x232)]=_0x382475(0x13b)+_0x54fe61['name']+_0x392fa6+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20items-center\x20gap-3\x20shrink-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22copy-trip-link-btn\x20text-slate-500\x20hover:text-sky-500\x20transition-colors\x22\x20data-trip-id=\x22'+_0x54fe61['id']+'\x22\x20data-trip-name=\x22'+_0x54fe61[_0x382475(0x2b7)]+'\x22\x20aria-label=\x22Share\x20link\x20for\x20'+_0x54fe61[_0x382475(0x2b7)]+_0x382475(0x1c1)+_0x54fe61['name']+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-chevron-down\x20text-base\x20transition-transform\x20duration-200\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',_0x480e85[_0x382475(0x17b)]=async _0x37cb10=>{const _0x40731a=_0x382475;!_0x37cb10['target'][_0x40731a(0x1f9)](_0x40731a(0x1db))&&(_0x54fe61['id']!==currentTripId&&await loadTrip(_0x54fe61['id']),closeTripSwitcherModal());};const _0x5b17d7=document[_0x382475(0x27f)](_0x382475(0x223));_0x5b17d7[_0x382475(0x1fe)]=_0x382475(0x181);_0x5e4ffe[_0x382475(0x169)]>0x0?_0x5e4ffe[_0x382475(0x1df)](_0x4cf9d3=>{const _0x47b87d=_0x382475,_0x271824=_0x54fe61[_0x47b87d(0x29b)][_0x4cf9d3],_0x307c94=_0x271824[_0x47b87d(0x228)];if(!_0x307c94)return;const _0x557318=document[_0x47b87d(0x27f)](_0x47b87d(0x223));_0x557318[_0x47b87d(0x1fe)]=_0x47b87d(0x192);let _0x40f501='';_0x48c437&&_0x4cf9d3!==_0x54fe61['owner']&&(_0x40f501=_0x47b87d(0x196)+_0x54fe61['id']+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-member-id=\x22'+_0x4cf9d3+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-member-email=\x22'+_0x307c94+_0x47b87d(0x295)+_0x307c94+_0x47b87d(0x202)),_0x557318[_0x47b87d(0x232)]=_0x47b87d(0x11e)+_0x307c94+(_0x4cf9d3===_0x54fe61[_0x47b87d(0x291)]?_0x47b87d(0x263):'')+_0x47b87d(0x259)+_0x40f501,_0x5b17d7[_0x47b87d(0x197)](_0x557318);}):_0x5b17d7[_0x382475(0x232)]=_0x382475(0x177);if(_0x48c437){const _0x56c332=document[_0x382475(0x27f)](_0x382475(0x223));_0x56c332[_0x382475(0x1fe)]='border-t\x20border-slate-200\x20mt-2\x20pt-2\x20text-center',_0x56c332[_0x382475(0x232)]=_0x382475(0x27d)+_0x54fe61['id']+_0x382475(0x123)+_0x54fe61[_0x382475(0x2b7)]+_0x382475(0x15e)+_0x5e4ffe[_0x382475(0x2e3)](',')+_0x382475(0x1c0),_0x5b17d7[_0x382475(0x197)](_0x56c332);}_0x1ac3a3[_0x382475(0x197)](_0x480e85),_0x1ac3a3[_0x382475(0x197)](_0x5b17d7),_0x266870[_0x382475(0x197)](_0x1ac3a3);}),attachTripSwitcherListeners();}function attachTripSwitcherListeners(){const _0x2bff71=_0x3f0f25;document[_0x2bff71(0x254)](_0x2bff71(0x277))[_0x2bff71(0x1df)](_0x28bafc=>{const _0x3cf833=_0x2bff71;_0x28bafc[_0x3cf833(0x289)](_0x3cf833(0x203),_0x2f3945=>{const _0x33f66b=_0x3cf833;_0x2f3945[_0x33f66b(0x143)]();const _0x1b2d21=_0x2f3945['currentTarget']['dataset'][_0x33f66b(0x2d9)],_0x350303=_0x2f3945[_0x33f66b(0x227)]['dataset'][_0x33f66b(0x159)];if(_0x1b2d21&&_0x350303){const _0x216624=''+window[_0x33f66b(0x2fb)]['origin']+window['location'][_0x33f66b(0x243)]+'?shared='+_0x1b2d21,_0x3d1201=_0x33f66b(0x152)+_0x350303+_0x33f66b(0x29d),_0x3da2aa=_0x3d1201+_0x216624;copyToClipboard(_0x3da2aa,_0x33f66b(0x2bc));}});}),document['querySelectorAll'](_0x2bff71(0x1b2))[_0x2bff71(0x1df)](_0x8d9411=>{_0x8d9411['addEventListener']('click',_0x40ded2=>{const _0x5450db=_0xbc94;_0x40ded2[_0x5450db(0x143)]();const _0x37fe2d=_0x8d9411[_0x5450db(0x1f9)](_0x5450db(0x1f1)),_0xa7948a=_0x37fe2d['querySelector'](_0x5450db(0x220)),_0x39c6bc=_0x8d9411['querySelector']('i');_0xa7948a&&_0x39c6bc&&(_0xa7948a['classList'][_0x5450db(0x1ec)](_0x5450db(0x132)),_0x39c6bc[_0x5450db(0x180)][_0x5450db(0x1ec)](_0x5450db(0x133)));});}),document[_0x2bff71(0x254)]('.kick-member-btn')[_0x2bff71(0x1df)](_0x2001c3=>{const _0x574906=_0x2bff71;_0x2001c3[_0x574906(0x289)](_0x574906(0x203),_0x320149=>{const _0x25428c=_0x574906;_0x320149[_0x25428c(0x143)]();const {tripId:_0x4ad471,memberId:_0x539302,memberEmail:_0x55caf8}=_0x320149[_0x25428c(0x227)][_0x25428c(0x29a)];showConfirmation(_0x25428c(0x11f)+_0x55caf8+_0x25428c(0x2b2),()=>{showLoading('Removing\x20member...'),removeMemberFromTrip(_0x4ad471,_0x539302,_0x55caf8);});});}),document[_0x2bff71(0x254)](_0x2bff71(0x2c9))[_0x2bff71(0x1df)](_0x14842b=>{const _0x56a987=_0x2bff71;_0x14842b[_0x56a987(0x289)](_0x56a987(0x203),_0x15c9e3=>{const _0x11c4e0=_0x56a987;_0x15c9e3[_0x11c4e0(0x255)](),_0x15c9e3[_0x11c4e0(0x143)]();const {tripId:_0x5f2e85,tripName:_0x34759a,memberIds:_0x57bb}=_0x15c9e3[_0x11c4e0(0x227)]['dataset'];deleteTrip(_0x5f2e85,_0x34759a,_0x57bb[_0x11c4e0(0x18e)](','));});});}async function removeMemberFromTrip(_0x1963a7,_0x3cadf7,_0x3e900){const _0x426098=_0x3f0f25;try{const _0x4e5ab7={};_0x4e5ab7['/trips/'+_0x1963a7+'/members/'+_0x3cadf7]=null,_0x4e5ab7[_0x426098(0x28b)+_0x3cadf7+_0x426098(0x281)+_0x1963a7]=null,await update(ref(database,'/'),_0x4e5ab7),showError(_0x3e900+_0x426098(0x271),0xbb8,'success'),updateAndPopulateTripSwitcher();}catch(_0x3654fc){showError(_0x426098(0x165)+_0x3654fc[_0x426098(0x1f5)]),console[_0x426098(0x1bd)](_0x426098(0x109),_0x3654fc);}finally{hideLoading();}}async function deleteTrip(_0x3ccb24,_0x38d62b,_0x4b061f){const _0x44177a=_0x3f0f25;showConfirmation(_0x44177a(0x114)+_0x38d62b+_0x44177a(0x20f),()=>{const _0x283e34=_0x44177a;showLoading(_0x283e34(0x2ce));try{const _0x4dd729={};_0x4dd729[_0x283e34(0x281)+_0x3ccb24]=null,_0x4b061f[_0x283e34(0x1df)](_0x4b1c2a=>{const _0x20b67b=_0x283e34;_0x4dd729[_0x20b67b(0x28b)+_0x4b1c2a+_0x20b67b(0x281)+_0x3ccb24]=null;}),update(ref(database,'/'),_0x4dd729)[_0x283e34(0x2e0)](async()=>{const _0x3e66a8=_0x283e34;showError(_0x3e66a8(0x1a6)+_0x38d62b+_0x3e66a8(0x168),0xbb8,'success'),closeTripSwitcherModal(),_0x3ccb24===currentTripId?(localStorage['removeItem'](_0x3e66a8(0x183)),currentTripId=null,await loadUserDashboard(auth[_0x3e66a8(0x11c)][_0x3e66a8(0x268)])):await updateAndPopulateTripSwitcher();})[_0x283e34(0x1d9)](_0x30fb84=>{const _0x4f4194=_0x283e34;showError(_0x4f4194(0x199)+_0x30fb84[_0x4f4194(0x1f5)]),console[_0x4f4194(0x1bd)](_0x4f4194(0x16b),_0x30fb84);})[_0x283e34(0x14b)](()=>{hideLoading();});}catch(_0x304afb){showError(_0x283e34(0x199)+_0x304afb['message']),console['error']('Error\x20deleting\x20trip:',_0x304afb),hideLoading();}});}function openTripSwitcherModal(){const _0x175c7f=_0x3f0f25;updateAndPopulateTripSwitcher(),tripSwitcherModal['classList']['remove'](_0x175c7f(0x132)),requestAnimationFrame(()=>{const _0x165b84=_0x175c7f;tripSwitcherModal[_0x165b84(0x180)][_0x165b84(0x2ee)](_0x165b84(0x10b)),tripSwitcherModal['querySelector'](_0x165b84(0x16a))[_0x165b84(0x180)][_0x165b84(0x2ee)]('scale-95');});}function closeTripSwitcherModal(){const _0x56842b=_0x3f0f25;tripSwitcherModal['classList'][_0x56842b(0x12e)](_0x56842b(0x10b)),tripSwitcherModal[_0x56842b(0x2c8)](_0x56842b(0x16a))[_0x56842b(0x180)][_0x56842b(0x12e)](_0x56842b(0x29c)),setTimeout(()=>tripSwitcherModal[_0x56842b(0x180)][_0x56842b(0x12e)](_0x56842b(0x132)),0x12c);}tripSwitcherBtn[_0x3f0f25(0x289)](_0x3f0f25(0x203),openTripSwitcherModal),document[_0x3f0f25(0x27c)](_0x3f0f25(0x2bf))[_0x3f0f25(0x289)]('click',closeTripSwitcherModal),document[_0x3f0f25(0x27c)](_0x3f0f25(0x2b3))['addEventListener'](_0x3f0f25(0x203),()=>{closeTripSwitcherModal(),createNewTrip();}),document[_0x3f0f25(0x27c)](_0x3f0f25(0x1c8))[_0x3f0f25(0x289)](_0x3f0f25(0x203),createNewTrip);closeIconBtn&&closeIconBtn[_0x3f0f25(0x289)]('click',closeTripSwitcherModal);modalClearInputBtn[_0x3f0f25(0x289)]('click',()=>{const _0x31e34a=_0x3f0f25;modalPromptInput&&(modalPromptInput[_0x31e34a(0x1ef)]='',modalPromptInput[_0x31e34a(0x239)]());});function saveDataToFirebase(){const _0x1f2941=_0x3f0f25;if(!currentTripRef)return;const _0x5cecf9={'groupEventName':appData[_0x1f2941(0x190)],'buddies':appData[_0x1f2941(0x2ae)],'expenses':appData[_0x1f2941(0x162)],'adjustments':appData[_0x1f2941(0x2b4)],'primaryCurrency':appData[_0x1f2941(0x214)]};update(currentTripRef,_0x5cecf9)['catch'](_0x53e17a=>{const _0x325f89=_0x1f2941;console[_0x325f89(0x1bd)]('Firebase\x20update\x20error:',_0x53e17a),showError(_0x325f89(0x27a)+_0x53e17a[_0x325f89(0x1f5)]);});}function updateAllUI(){const _0x2fbdeb=_0x3f0f25;if(!currentTripId)return;groupEventNameInput[_0x2fbdeb(0x1ef)]=appData[_0x2fbdeb(0x190)],tripPrimaryCurrencySelect['value']=appData['primaryCurrency'],currentTripNameEl[_0x2fbdeb(0x18a)]=appData['groupEventName']||_0x2fbdeb(0x28e),updateCurrencyDisplays(),updateBuddyList(),updateSummary(),updateMealRecords(),updateDebtSettlement(),updateAdjustmentsDisplay();const _0x1337b4=auth[_0x2fbdeb(0x11c)]&&auth['currentUser']['uid']===appData[_0x2fbdeb(0x291)];resetBtn[_0x2fbdeb(0x1c9)]['display']=_0x1337b4?_0x2fbdeb(0x111):_0x2fbdeb(0x2aa);}function updateCurrencyDisplays(){const _0x22ffb3=_0x3f0f25,_0x322f1a=appData['primaryCurrency'];document[_0x22ffb3(0x27c)]('summary-title')['innerHTML']=_0x22ffb3(0x2d3)+_0x322f1a+')',document[_0x22ffb3(0x27c)]('debt-title')[_0x22ffb3(0x232)]=_0x22ffb3(0x1cc)+_0x322f1a+')',document[_0x22ffb3(0x27c)](_0x22ffb3(0x2b9))[_0x22ffb3(0x18a)]='Total\x20Owed',document[_0x22ffb3(0x27c)]('debt-paid-header')[_0x22ffb3(0x18a)]=_0x22ffb3(0x17a),document[_0x22ffb3(0x27c)](_0x22ffb3(0x141))[_0x22ffb3(0x18a)]=_0x22ffb3(0x2fa),document[_0x22ffb3(0x27c)](_0x22ffb3(0x204))[_0x22ffb3(0x18a)]=_0x22ffb3(0x1fa),expenseFormTitle[_0x22ffb3(0x232)]='<span\x20class=\x22text-2xl\x20sm:text-3xl\x22>üí∏</span>Add\x20New\x20Expense';}function getCurrencySymbol(_0x17c455){const _0x4b6c52=_0x3f0f25,_0x151d50={'HKD':'$','CNY':'¬•','GBP':'¬£','JPY':'¬•','THB':'‡∏ø','TWD':_0x4b6c52(0x2ea),'KRW':'‚Ç©','SGD':'$','USD':'$','EUR':'‚Ç¨','AUD':'$','CAD':'$','NZD':'$','CHF':'Fr','MYR':'RM','VND':'‚Ç´','PHP':'‚Ç±','IDR':'Rp'};return _0x151d50[_0x17c455]||_0x17c455;}function clearAllUI(){const _0x42c747=_0x3f0f25;document[_0x42c747(0x27c)](_0x42c747(0x1ad))[_0x42c747(0x232)]='',document['getElementById'](_0x42c747(0x125))[_0x42c747(0x232)]='',document['getElementById'](_0x42c747(0x2ec))[_0x42c747(0x232)]='',document[_0x42c747(0x27c)]('debt-table')[_0x42c747(0x232)]='',document[_0x42c747(0x27c)](_0x42c747(0x14f))[_0x42c747(0x232)]='',document[_0x42c747(0x27c)]('current-adjustments')[_0x42c747(0x232)]='';}async function fetchExchangeRates(){const _0x25f9af=_0x3f0f25,_0x5b9702=appData[_0x25f9af(0x214)];try{const _0x507678=await fetch(_0x25f9af(0x250)+API_KEY+'/latest/'+_0x5b9702);if(!_0x507678['ok'])throw new Error(_0x25f9af(0x1f2)+_0x507678['status']);const _0xc14114=await _0x507678[_0x25f9af(0x14c)]();if(_0xc14114[_0x25f9af(0x176)]==='success'&&_0xc14114[_0x25f9af(0x2f5)])exchangeRates=_0xc14114['conversion_rates'];else throw new Error(_0xc14114[_0x25f9af(0x1c3)]||'API\x20request\x20was\x20not\x20successful');}catch(_0x5363ad){console[_0x25f9af(0x1bd)](_0x25f9af(0x15a),_0x5363ad),showError(_0x25f9af(0x188)+_0x5363ad[_0x25f9af(0x1f5)]+_0x25f9af(0x274),0x1388),exchangeRates={};const _0x237a5a=fallbackRates[_0x5b9702];for(const _0x273be9 in fallbackRates){exchangeRates[_0x273be9]=fallbackRates[_0x273be9]/_0x237a5a;}}updateAllUI();}function formatTimestamp(_0x26ee43){const _0x5f0cf8=_0x3f0f25,_0x3d8570=new Date(_0x26ee43),_0x2c60d0=['Sun',_0x5f0cf8(0x231),_0x5f0cf8(0x1f4),_0x5f0cf8(0x2d5),'Thu',_0x5f0cf8(0x2e8),_0x5f0cf8(0x12b)],_0x313b2b=[_0x5f0cf8(0x112),'Feb',_0x5f0cf8(0x22c),_0x5f0cf8(0x1cd),_0x5f0cf8(0x1fb),'Jun',_0x5f0cf8(0x12f),_0x5f0cf8(0x27b),_0x5f0cf8(0x1cb),'Oct',_0x5f0cf8(0x2b8),_0x5f0cf8(0x245)],_0x2dc603=_0x2c60d0[_0x3d8570[_0x5f0cf8(0x20e)]()],_0x258196=_0x3d8570[_0x5f0cf8(0x224)](),_0x23a638=_0x313b2b[_0x3d8570[_0x5f0cf8(0x18c)]()],_0x15d5f4=_0x3d8570[_0x5f0cf8(0x108)]();let _0x38b040=_0x3d8570[_0x5f0cf8(0x2ba)]();const _0x256800=_0x3d8570[_0x5f0cf8(0x2c4)]()[_0x5f0cf8(0x118)]()[_0x5f0cf8(0x272)](0x2,'0'),_0x11b2a3=_0x38b040>=0xc?'PM':'AM';return _0x38b040=_0x38b040%0xc||0xc,_0x2dc603+',\x20'+_0x258196+'\x20'+_0x23a638+'\x20'+_0x15d5f4+',\x20'+_0x38b040+':'+_0x256800+_0x11b2a3;}function showPage(_0x2aeb21){const _0x35c5ad=_0x3f0f25;document[_0x35c5ad(0x254)](_0x35c5ad(0x2b5))[_0x35c5ad(0x1df)](_0x55bdf2=>_0x55bdf2['classList']['add'](_0x35c5ad(0x132)));const _0x29cf15=document[_0x35c5ad(0x27c)](_0x2aeb21);if(_0x29cf15)_0x29cf15[_0x35c5ad(0x180)][_0x35c5ad(0x2ee)](_0x35c5ad(0x132));navButtons[_0x35c5ad(0x1df)](_0x27ad2d=>{const _0x4bb740=_0x35c5ad,_0x535930=_0x27ad2d[_0x4bb740(0x29a)][_0x4bb740(0x2d8)]===_0x2aeb21;_0x27ad2d[_0x4bb740(0x180)][_0x4bb740(0x1ec)]('text-sky-600',_0x535930),_0x27ad2d['classList'][_0x4bb740(0x1ec)](_0x4bb740(0x296),_0x535930),_0x27ad2d[_0x4bb740(0x180)][_0x4bb740(0x1ec)](_0x4bb740(0x23d),_0x535930),_0x27ad2d[_0x4bb740(0x180)]['toggle'](_0x4bb740(0x2bb),_0x535930),_0x27ad2d[_0x4bb740(0x180)][_0x4bb740(0x1ec)]('text-slate-600',!_0x535930);if(!_0x535930)_0x27ad2d['classList']['remove'](_0x4bb740(0x23d),'rounded-lg');}),_0x2aeb21===_0x35c5ad(0x1b9)&&initEmblaCarousels(),(_0x2aeb21===_0x35c5ad(0x12a)||_0x2aeb21===_0x35c5ad(0x1b9)||_0x2aeb21==='page-debt')&&appContent[_0x35c5ad(0x11d)]({'top':0x0,'behavior':_0x35c5ad(0x151)});}navButtons[_0x3f0f25(0x1df)](_0xc29c1e=>{const _0x42b1d4=_0x3f0f25;_0xc29c1e[_0x42b1d4(0x289)](_0x42b1d4(0x203),()=>showPage(_0xc29c1e[_0x42b1d4(0x29a)][_0x42b1d4(0x2d8)]));}),groupEventNameInput[_0x3f0f25(0x289)]('change',()=>{const _0x5d2973=_0x3f0f25;appData[_0x5d2973(0x190)]=groupEventNameInput[_0x5d2973(0x1ef)]['trim'](),saveDataToFirebase();}),clearTripNameBtn[_0x3f0f25(0x289)](_0x3f0f25(0x203),()=>{const _0x1faf0e=_0x3f0f25;groupEventNameInput['value']&&(groupEventNameInput[_0x1faf0e(0x1ef)]='',groupEventNameInput['dispatchEvent'](new Event('change')),groupEventNameInput['focus']());}),tripPrimaryCurrencySelect[_0x3f0f25(0x289)](_0x3f0f25(0x225),()=>{const _0x3f87d7=_0x3f0f25,_0x32de7c=tripPrimaryCurrencySelect['value'],_0x21530f=appData[_0x3f87d7(0x214)];if(_0x32de7c===_0x21530f)return;tripPrimaryCurrencySelect[_0x3f87d7(0x1ef)]=_0x21530f;const _0x31536e=_0x3f87d7(0x25a)+_0x32de7c+'.';showConfirmation(_0x31536e,()=>{const _0x754058=_0x3f87d7;update(currentTripRef,{'primaryCurrency':_0x32de7c}),showError('Primary\x20currency\x20updated\x20to\x20'+_0x32de7c+'.',0xbb8,_0x754058(0x155));},{'title':'Change\x20Primary\x20Currency?','confirmText':'Confirm','confirmColor':_0x3f87d7(0x2b1)});}),mealButtons[_0x3f0f25(0x1df)](_0x7da0df=>{const _0x5b5e33=_0x3f0f25;_0x7da0df[_0x5b5e33(0x289)](_0x5b5e33(0x203),()=>{const _0x25cafc=_0x5b5e33;mealButtons[_0x25cafc(0x1df)](_0x40b892=>_0x40b892[_0x25cafc(0x180)][_0x25cafc(0x2ee)](_0x25cafc(0x160))),_0x7da0df[_0x25cafc(0x180)][_0x25cafc(0x12e)](_0x25cafc(0x160)),document[_0x25cafc(0x27c)](_0x25cafc(0x117))[_0x25cafc(0x1ef)]=_0x7da0df['dataset'][_0x25cafc(0x2f4)];});}),currencyButtons[_0x3f0f25(0x1df)](_0x56565a=>{const _0x3c5416=_0x3f0f25;_0x56565a[_0x3c5416(0x289)](_0x3c5416(0x203),()=>{const _0x522d7e=_0x3c5416;currencyButtons[_0x522d7e(0x1df)](_0x11f8e8=>_0x11f8e8['classList'][_0x522d7e(0x2ee)](_0x522d7e(0x160))),_0x56565a[_0x522d7e(0x180)][_0x522d7e(0x12e)]('active'),document[_0x522d7e(0x27c)](_0x522d7e(0x2dd))['value']=_0x56565a[_0x522d7e(0x29a)]['currency'];});});function updateBuddyList(){const _0x1239b9=_0x3f0f25,_0x271dba=document[_0x1239b9(0x27c)](_0x1239b9(0x1ad)),_0x38615a=document[_0x1239b9(0x27c)](_0x1239b9(0x1a4));if(!_0x271dba||!_0x38615a)return;_0x271dba[_0x1239b9(0x232)]='',_0x38615a[_0x1239b9(0x232)]='',appData['buddies'][_0x1239b9(0x1df)]((_0x387c47,_0x30322b)=>{const _0x10083c=_0x1239b9,_0x10345d=_0x10083c(0x1ab)+_0x30322b+'_'+_0x387c47[_0x10083c(0x23f)](/\s+/g,'_'),_0xeb1523=document[_0x10083c(0x27f)](_0x10083c(0x223));_0xeb1523[_0x10083c(0x1fe)]=_0x10083c(0x1ea),_0xeb1523[_0x10083c(0x232)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-slate-800\x20font-medium\x20text-sm\x20sm:text-base\x22>'+_0x387c47+_0x10083c(0x1ba)+_0x30322b+_0x10083c(0x2f7)+_0x387c47+_0x10083c(0x175)+_0x30322b+_0x10083c(0x1c7)+_0x387c47+_0x10083c(0x26e),_0x271dba[_0x10083c(0x197)](_0xeb1523);const _0x3e0bad=document[_0x10083c(0x27f)](_0x10083c(0x223));_0x3e0bad[_0x10083c(0x1fe)]=_0x10083c(0x18b),_0x3e0bad[_0x10083c(0x232)]=_0x10083c(0x273)+_0x387c47+'\x22\x20id=\x22exp_buddy_'+_0x10345d+_0x10083c(0x131)+_0x387c47+_0x10083c(0x122)+_0x387c47+'\x22\x20id=\x22payer_'+_0x10345d+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20text-slate-700\x22>Paid</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>',_0x38615a[_0x10083c(0x197)](_0x3e0bad);}),selectAllBuddiesCheckbox&&(selectAllBuddiesCheckbox[_0x1239b9(0x1c5)](_0x1239b9(0x225),handleSelectAllBuddies),selectAllBuddiesCheckbox[_0x1239b9(0x289)]('change',handleSelectAllBuddies)),document[_0x1239b9(0x254)](_0x1239b9(0x2e7))[_0x1239b9(0x1df)](_0x10a0dc=>{const _0x58fa0e=_0x1239b9;_0x10a0dc[_0x58fa0e(0x289)]('click',async()=>{const _0x4b0fd0=_0x58fa0e,_0x48edf7=parseInt(_0x10a0dc[_0x4b0fd0(0x29a)]['index']),_0x17f4cb=appData[_0x4b0fd0(0x2ae)][_0x48edf7],_0x5f1a7d=await showPromptModal(_0x4b0fd0(0x2a3),_0x4b0fd0(0x2af)+_0x17f4cb+_0x4b0fd0(0x2ab),_0x17f4cb);if(_0x5f1a7d&&_0x5f1a7d[_0x4b0fd0(0x2a1)]()&&_0x5f1a7d[_0x4b0fd0(0x2a1)]()!==_0x17f4cb){if(appData['buddies'][_0x4b0fd0(0x247)](_0x5f1a7d['trim']())){showError('Buddy\x20name\x20already\x20exists.');return;}if(_0x5f1a7d[_0x4b0fd0(0x2a1)]()[_0x4b0fd0(0x169)]>0x32){showError(_0x4b0fd0(0x230));return;}const _0x5dec2f=appData[_0x4b0fd0(0x2ae)][_0x48edf7];appData[_0x4b0fd0(0x2ae)][_0x48edf7]=_0x5f1a7d['trim'](),appData['expenses'][_0x4b0fd0(0x1df)](_0x1e9ab3=>{const _0x46609b=_0x4b0fd0;if(_0x1e9ab3[_0x46609b(0x25b)]==='expense'){_0x1e9ab3['buddies']=_0x1e9ab3['buddies']['map'](_0x1aa1d5=>_0x1aa1d5===_0x5dec2f?_0x5f1a7d[_0x46609b(0x2a1)]():_0x1aa1d5);if(_0x1e9ab3[_0x46609b(0x293)]===_0x5dec2f)_0x1e9ab3['payer']=_0x5f1a7d['trim']();}}),appData['adjustments'][_0x4b0fd0(0x1df)](_0x367d2a=>{const _0x5ae2fd=_0x4b0fd0;if(_0x367d2a[_0x5ae2fd(0x201)]===_0x5dec2f)_0x367d2a[_0x5ae2fd(0x201)]=_0x5f1a7d[_0x5ae2fd(0x2a1)]();if(_0x367d2a[_0x5ae2fd(0x2f2)]===_0x5dec2f)_0x367d2a[_0x5ae2fd(0x2f2)]=_0x5f1a7d[_0x5ae2fd(0x2a1)]();}),saveDataToFirebase(),showError('\x27'+_0x5dec2f+'\x27\x20renamed\x20to\x20\x27'+_0x5f1a7d['trim']()+'\x27',0xbb8,_0x4b0fd0(0x155));}});}),document[_0x1239b9(0x254)]('.delete-buddy')['forEach'](_0x2faad2=>{const _0x155800=_0x1239b9;_0x2faad2['addEventListener'](_0x155800(0x203),()=>{const _0x44eff3=_0x155800,_0x2949dc=parseInt(_0x2faad2[_0x44eff3(0x29a)][_0x44eff3(0x1d4)]),_0x27463f=appData[_0x44eff3(0x2ae)][_0x2949dc],_0xeee834=appData[_0x44eff3(0x162)][_0x44eff3(0x158)](_0x5eeb49=>_0x5eeb49[_0x44eff3(0x25b)]===_0x44eff3(0x1b8)&&(_0x5eeb49[_0x44eff3(0x2ae)][_0x44eff3(0x247)](_0x27463f)||_0x5eeb49[_0x44eff3(0x293)]===_0x27463f));if(_0xeee834){showError(_0x44eff3(0x290)+_0x27463f+_0x44eff3(0x269),0x1388);return;}if(appData[_0x44eff3(0x2b4)][_0x44eff3(0x158)](_0x13a6d9=>_0x13a6d9[_0x44eff3(0x201)]===_0x27463f||_0x13a6d9[_0x44eff3(0x2f2)]===_0x27463f)){showError(_0x44eff3(0x290)+_0x27463f+_0x44eff3(0x2cb),0x1388);return;}showConfirmation('Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20'+_0x27463f+'?',()=>{const _0x1388a6=_0x44eff3;appData[_0x1388a6(0x2ae)]['splice'](_0x2949dc,0x1),saveDataToFirebase(),showError(_0x27463f+_0x1388a6(0x25f),0xbb8,_0x1388a6(0x155));});});});}function handleSelectAllBuddies(){const _0xb37f1e=_0x3f0f25,_0x5e3b76=selectAllBuddiesCheckbox[_0xb37f1e(0x206)];document['querySelectorAll'](_0xb37f1e(0x13a))['forEach'](_0x5aa052=>_0x5aa052['checked']=_0x5e3b76);}function _0xbc94(_0x40cd94,_0xba55d2){const _0x181783=_0x1817();return _0xbc94=function(_0xbc9475,_0x5b1ee4){_0xbc9475=_0xbc9475-0x108;let _0x5099ab=_0x181783[_0xbc9475];return _0x5099ab;},_0xbc94(_0x40cd94,_0xba55d2);}addBuddyBtn[_0x3f0f25(0x289)]('click',()=>{const _0x48a859=_0x3f0f25,_0x1244f6=newBuddyInput[_0x48a859(0x1ef)][_0x48a859(0x2a1)]();if(!_0x1244f6){showError(_0x48a859(0x235));return;}if(appData['buddies'][_0x48a859(0x247)](_0x1244f6)){showError('Buddy\x20already\x20exists.');return;}if(_0x1244f6['length']>0x32){showError(_0x48a859(0x230));return;}appData[_0x48a859(0x2ae)]['push'](_0x1244f6),saveDataToFirebase(),newBuddyInput['value']='',showError(_0x1244f6+_0x48a859(0x1bf),0xbb8,_0x48a859(0x155));}),doneBuddiesBtn[_0x3f0f25(0x289)]('click',()=>{const _0x42bbb6=_0x3f0f25,_0x3bb3bd=groupEventNameInput[_0x42bbb6(0x1ef)][_0x42bbb6(0x2a1)]();if(!_0x3bb3bd){showError(_0x42bbb6(0x147));return;}if(appData['buddies'][_0x42bbb6(0x169)]===0x0){showError(_0x42bbb6(0x145));return;}appData['groupEventName']=_0x3bb3bd,saveDataToFirebase(),showPage(_0x42bbb6(0x1b9));}),addExpenseBtn[_0x3f0f25(0x289)](_0x3f0f25(0x203),()=>{const _0x2832d0=_0x3f0f25;if(!appData['groupEventName']){showError(_0x2832d0(0x147)),showPage(_0x2832d0(0x12a));return;}const _0x3ba1a9=document['getElementById']('meal-type')[_0x2832d0(0x1ef)],_0x82073=document[_0x2832d0(0x27c)]('restaurant')[_0x2832d0(0x1ef)]['trim'](),_0x5d3512=document[_0x2832d0(0x27c)](_0x2832d0(0x2dd))['value'],_0x33e77e=parseFloat(document[_0x2832d0(0x27c)](_0x2832d0(0x2cd))['value']),_0x431bfb=Array['from'](document['querySelectorAll'](_0x2832d0(0x242)))['map'](_0x12b8a5=>_0x12b8a5['value']),_0x595362=document[_0x2832d0(0x2c8)](_0x2832d0(0x135)),_0xa79d7b=_0x595362?_0x595362[_0x2832d0(0x1ef)]:null;if(!_0x3ba1a9){showError(_0x2832d0(0x27e));return;}if(!_0x82073){showError(_0x2832d0(0x21b));return;}if(!_0x5d3512){showError(_0x2832d0(0x144));return;}if(isNaN(_0x33e77e)||_0x33e77e<=0x0){showError('Please\x20enter\x20a\x20valid\x20amount.');return;}if(_0x431bfb['length']===0x0){showError('Please\x20select\x20at\x20least\x20one\x20buddy.');return;}if(!_0xa79d7b){showError(_0x2832d0(0x19f));return;}const _0x4d6c3c=_0x33e77e/(exchangeRates[_0x5d3512]||0x1),_0x1c5aef=_0x4d6c3c/_0x431bfb[_0x2832d0(0x169)],_0x4f5f6d={'type':'expense','id':editingExpenseIndex>-0x1?appData[_0x2832d0(0x162)][editingExpenseIndex]['id']:Date[_0x2832d0(0x212)](),'mealType':_0x3ba1a9,'restaurant':_0x82073,'currency':_0x5d3512,'amount':_0x33e77e,'amountInPrimaryCurrency':_0x4d6c3c,'buddies':_0x431bfb,'perBuddy':_0x1c5aef,'payer':_0xa79d7b,'timestamp':new Date()[_0x2832d0(0x157)]()};scrollToExpenseId=_0x4f5f6d['id'],editingExpenseIndex>-0x1?(appData[_0x2832d0(0x162)][editingExpenseIndex]=_0x4f5f6d,showError(_0x2832d0(0x1dc),0xbb8,'success')):(appData[_0x2832d0(0x162)][_0x2832d0(0x10d)](_0x4f5f6d),showError('Expense\x20added\x20successfully!\x20üéâ',0xbb8,'success')),editingExpenseIndex=-0x1,addExpenseBtn[_0x2832d0(0x232)]=_0x2832d0(0x22f),addExpenseBtn[_0x2832d0(0x180)]['remove'](_0x2832d0(0x240),_0x2832d0(0x119),_0x2832d0(0x1e1)),addExpenseBtn['classList'][_0x2832d0(0x12e)](_0x2832d0(0x226),_0x2832d0(0x1a7),'active:bg-sky-700'),saveDataToFirebase(),clearForm(),showPage(_0x2832d0(0x150));}),resetBtn['addEventListener'](_0x3f0f25(0x203),()=>{const _0x453839=_0x3f0f25;showConfirmation(_0x453839(0x1bb),()=>{const _0x3ea768=_0x453839;appData[_0x3ea768(0x162)]=[],appData[_0x3ea768(0x2b4)]=[],saveDataToFirebase(),showError(_0x3ea768(0x23a),0xbb8,_0x3ea768(0x155)),showPage('page-buddies');});}),copyWhatsappBtn[_0x3f0f25(0x289)](_0x3f0f25(0x203),()=>{const _0x26949a=generateWhatsAppMessage();copyToClipboard(_0x26949a,'Data\x20copied\x20to\x20clipboard!\x20Ready\x20to\x20paste\x20into\x20WhatsApp.\x20üìã');});function updateSummary(){const _0x22d411=_0x3f0f25,_0x405447=document['getElementById'](_0x22d411(0x125));if(!_0x405447)return;_0x405447[_0x22d411(0x232)]='';const _0x5e7099={},_0x1108d6={},_0x76e0a1=getCurrencySymbol(appData['primaryCurrency']),_0x568176={},_0x384551=_0x1c6267=>_0x1c6267[_0x22d411(0x2a0)](_0x22d411(0x17d),{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),_0x289e97={};appData[_0x22d411(0x2ae)][_0x22d411(0x1df)](_0x31582f=>{_0x289e97[_0x31582f]={};});let _0x568757=null;appData['expenses']['forEach'](_0x5b4903=>{const _0x3fe648=_0x22d411;if(_0x5b4903[_0x3fe648(0x25b)]===_0x3fe648(0x128))_0x568757=_0x5b4903[_0x3fe648(0x184)],appData[_0x3fe648(0x2ae)]['forEach'](_0x56ab6f=>{!_0x289e97[_0x56ab6f][_0x568757]&&(_0x289e97[_0x56ab6f][_0x568757]=0x0);});else _0x5b4903['type']===_0x3fe648(0x1b8)&&_0x568757&&_0x5b4903[_0x3fe648(0x2ae)]['forEach'](_0x53137=>{_0x289e97[_0x53137]&&(_0x289e97[_0x53137][_0x568757]+=_0x5b4903['perBuddy']);});}),appData['buddies'][_0x22d411(0x1df)](_0x22e952=>{_0x5e7099[_0x22e952]=0x0,_0x1108d6[_0x22e952]=[],_0x568176[_0x22e952]=null;});let _0x18cc1b=null;appData[_0x22d411(0x162)][_0x22d411(0x1df)](_0x9d2266=>{const _0x1948d9=_0x22d411;if(_0x9d2266[_0x1948d9(0x25b)]===_0x1948d9(0x128)){_0x18cc1b=_0x9d2266[_0x1948d9(0x184)];return;}const _0x160853=_0x9d2266;_0x160853[_0x1948d9(0x2ae)][_0x1948d9(0x1df)](_0x11e980=>{const _0x3dfc40=_0x1948d9,_0x482dd2=_0x160853[_0x3dfc40(0x285)];_0x5e7099[_0x11e980]+=_0x482dd2;if(_0x18cc1b&&_0x568176[_0x11e980]!==_0x18cc1b){const _0x3c81ed=_0x289e97[_0x11e980]?.[_0x18cc1b]||0x0,_0x4aac59=_0x3c81ed>0x0?'\x20<span\x20class=\x22font-normal\x20text-slate-500\x22>-\x20Subtotal\x20'+_0x76e0a1+_0x384551(_0x3c81ed)+'</span>':'',_0x2fcd13=_0x1108d6[_0x11e980][_0x3dfc40(0x169)]===0x0?'':_0x3dfc40(0x2c6);_0x1108d6[_0x11e980][_0x3dfc40(0x10d)](_0x3dfc40(0x21f)+_0x2fcd13+'\x22>'+_0x18cc1b+_0x4aac59+'</div>'),_0x568176[_0x11e980]=_0x18cc1b;}_0x1108d6[_0x11e980][_0x3dfc40(0x10d)]('<div\x20class=\x22text-xs\x22><span\x20class=\x22font-medium\x22>'+_0x160853[_0x3dfc40(0x10f)]+_0x3dfc40(0x13e)+_0x160853[_0x3dfc40(0x137)]+':\x20'+_0x76e0a1+_0x384551(_0x482dd2)+_0x3dfc40(0x2a9));});});if(appData[_0x22d411(0x2ae)][_0x22d411(0x169)]===0x0){const _0x1fecc5=_0x405447[_0x22d411(0x191)]();_0x1fecc5[_0x22d411(0x232)]=_0x22d411(0x1c6);return;}appData['buddies']['forEach'](_0x3b2953=>{const _0x5710d2=_0x22d411,_0x19e161=_0x405447[_0x5710d2(0x191)]();_0x19e161[_0x5710d2(0x232)]=_0x5710d2(0x146)+_0x3b2953+_0x5710d2(0x1d0)+_0x76e0a1+_0x384551(_0x5e7099[_0x3b2953])+_0x5710d2(0x1ac)+(_0x1108d6[_0x3b2953]['join']('')||_0x5710d2(0x205))+_0x5710d2(0x113);});}function calculateDailySubtotals(){const _0x3538be=_0x3f0f25,_0x39d3d9={};let _0xb4d2ca=null;return appData[_0x3538be(0x162)][_0x3538be(0x1df)](_0x2fa96a=>{const _0x1ecc6d=_0x3538be;if(_0x2fa96a['type']===_0x1ecc6d(0x128))_0xb4d2ca=_0x2fa96a[_0x1ecc6d(0x184)],_0x39d3d9[_0xb4d2ca]=0x0;else _0x2fa96a[_0x1ecc6d(0x25b)]==='expense'&&_0xb4d2ca&&(_0x39d3d9[_0xb4d2ca]+=_0x2fa96a['amountInPrimaryCurrency']);}),_0x39d3d9;}let draggedItem=null;function renumberDayDividers(){const _0x34766f=_0x3f0f25;let _0xc0ffa8=0x1;appData[_0x34766f(0x162)][_0x34766f(0x1df)](_0x33b2a3=>{const _0x5b92b6=_0x34766f;_0x33b2a3[_0x5b92b6(0x25b)]===_0x5b92b6(0x128)&&(_0x33b2a3[_0x5b92b6(0x184)]=_0x5b92b6(0x19d)+_0xc0ffa8,_0xc0ffa8++);});}addDayDividerBtn[_0x3f0f25(0x289)]('click',()=>{const _0x1b1b28=_0x3f0f25,_0xed1397=appData[_0x1b1b28(0x162)][_0x1b1b28(0x124)](_0x3e7675=>_0x3e7675[_0x1b1b28(0x25b)]==='divider')[_0x1b1b28(0x169)],_0xf1a21a='Day\x20'+(_0xed1397+0x1),_0x52061a={'type':_0x1b1b28(0x128),'id':Date[_0x1b1b28(0x212)](),'label':_0xf1a21a};_0xed1397===0x0?appData[_0x1b1b28(0x162)][_0x1b1b28(0x1e7)](_0x52061a):appData[_0x1b1b28(0x162)][_0x1b1b28(0x10d)](_0x52061a),saveDataToFirebase(),showError(_0x1b1b28(0x126)+_0xf1a21a,0x7d0,_0x1b1b28(0x155));});function updateMealRecords(){const _0x3747f9=_0x3f0f25,_0x43ab21=document[_0x3747f9(0x27c)](_0x3747f9(0x2fc));if(!_0x43ab21||!mealRecordsContainer)return;mealRecordsContainer[_0x3747f9(0x232)]='';const _0x5407a2=appData[_0x3747f9(0x162)]['filter'](_0x14bfb8=>_0x14bfb8['type']===_0x3747f9(0x1b8)),_0x29114d=_0x5407a2['reduce']((_0x2e9f3a,_0x1a950c)=>_0x2e9f3a+_0x1a950c['amountInPrimaryCurrency'],0x0),_0x292fda=_0x5407a2[_0x3747f9(0x169)],_0x431871=_0x4c8a70=>_0x4c8a70['toLocaleString'](_0x3747f9(0x17d),{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2});_0x43ab21[_0x3747f9(0x18a)]=_0x3747f9(0x251)+appData[_0x3747f9(0x214)]+'\x20'+_0x431871(_0x29114d)+_0x3747f9(0x28f)+_0x292fda+'\x20transaction'+(_0x292fda!==0x1?'s':'');if(appData[_0x3747f9(0x162)][_0x3747f9(0x169)]===0x0){mealRecordsContainer[_0x3747f9(0x232)]='<p\x20class=\x22text-slate-500\x20text-center\x20py-4\x22>No\x20meal\x20records\x20yet.\x20Add\x20an\x20expense!\x20üçΩÔ∏è</p>',scrollToExpenseId=null;return;}let _0x15df36=null;const _0x49289a=calculateDailySubtotals(),_0x5bd3bc=getCurrencySymbol(appData[_0x3747f9(0x214)]);appData[_0x3747f9(0x162)][_0x3747f9(0x1df)](_0x5d73f4=>{const _0x4cd913=_0x3747f9;let _0x245817;if(_0x5d73f4[_0x4cd913(0x25b)]===_0x4cd913(0x128)){_0x245817=document['createElement'](_0x4cd913(0x223)),_0x245817[_0x4cd913(0x1fe)]='day-divider-item\x20record-list-item',_0x245817[_0x4cd913(0x2cf)]=!![],_0x245817[_0x4cd913(0x29a)]['id']=_0x5d73f4['id'];const _0x2aa364=_0x49289a[_0x5d73f4[_0x4cd913(0x184)]]||0x0,_0x2d93f4=_0x2aa364>0x0?_0x4cd913(0x182)+_0x5bd3bc+_0x431871(_0x2aa364):'';_0x245817[_0x4cd913(0x232)]=_0x4cd913(0x221)+_0x5d73f4[_0x4cd913(0x184)]+_0x2d93f4+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-divider\x20absolute\x20top-2\x20right-2\x20bg-rose-100\x20text-rose-600\x20rounded-full\x20w-6\x20h-6\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20hover:bg-rose-200\x22\x20data-id=\x22'+_0x5d73f4['id']+_0x4cd913(0x1b4);}else{if(_0x5d73f4[_0x4cd913(0x25b)]===_0x4cd913(0x1b8)){const _0x12d0c=_0x5d73f4;_0x245817=document['createElement'](_0x4cd913(0x223)),_0x245817[_0x4cd913(0x1fe)]=_0x4cd913(0x18d),_0x245817[_0x4cd913(0x2cf)]=!![],_0x245817['dataset']['id']=_0x12d0c['id'];const _0x257f75=formatTimestamp(_0x12d0c[_0x4cd913(0x1f8)]);_0x245817[_0x4cd913(0x232)]=_0x4cd913(0x164)+_0x12d0c['id']+_0x4cd913(0x2dc)+_0x12d0c['id']+_0x4cd913(0x222)+_0x12d0c[_0x4cd913(0x10f)]+_0x4cd913(0x1f3)+_0x12d0c[_0x4cd913(0x137)]+_0x4cd913(0x19e)+_0x12d0c['currency']+'\x20'+_0x431871(_0x12d0c[_0x4cd913(0x2cd)])+_0x4cd913(0x19c)+_0x12d0c[_0x4cd913(0x293)]+_0x4cd913(0x217)+_0x12d0c[_0x4cd913(0x2ae)]['join'](',\x20')+'</em></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-right\x20text-slate-400\x20text-[10px]\x20mt-1.5\x22>'+_0x257f75+'</div>';}}_0x245817&&(mealRecordsContainer[_0x4cd913(0x197)](_0x245817),_0x5d73f4['id']===scrollToExpenseId&&(_0x15df36=_0x245817));}),_0x15df36&&requestAnimationFrame(()=>{const _0x1dcabf=_0x3747f9;_0x15df36[_0x1dcabf(0x233)]({'behavior':'smooth','block':_0x1dcabf(0x2a8)}),scrollToExpenseId=null;}),attachDragAndDropListeners(),attachRecordActionListeners();}function attachDragAndDropListeners(){const _0x2d0f34=_0x3f0f25,_0x290e78=document[_0x2d0f34(0x254)](_0x2d0f34(0x115));_0x290e78[_0x2d0f34(0x1df)](_0x5b1086=>{const _0x5e1412=_0x2d0f34;_0x5b1086['addEventListener']('dragstart',_0x1a777b=>{const _0x4e1265=_0xbc94;draggedItem=_0x5b1086,_0x1a777b[_0x4e1265(0x186)][_0x4e1265(0x15d)]=_0x4e1265(0x149),_0x1a777b['dataTransfer'][_0x4e1265(0x1fc)](_0x4e1265(0x2d0),_0x5b1086[_0x4e1265(0x29a)]['id']),setTimeout(()=>_0x5b1086[_0x4e1265(0x180)][_0x4e1265(0x12e)](_0x4e1265(0x2f1)),0x0);}),_0x5b1086[_0x5e1412(0x289)](_0x5e1412(0x10c),_0x24e9d3=>{const _0x15406c=_0x5e1412;_0x24e9d3[_0x15406c(0x255)](),_0x5b1086!==draggedItem&&_0x5b1086[_0x15406c(0x180)][_0x15406c(0x12e)](_0x15406c(0x219));}),_0x5b1086[_0x5e1412(0x289)]('dragleave',()=>{const _0x5811a2=_0x5e1412;_0x5b1086[_0x5811a2(0x180)][_0x5811a2(0x2ee)](_0x5811a2(0x219));}),_0x5b1086[_0x5e1412(0x289)](_0x5e1412(0x130),_0x134777=>{const _0x36f54a=_0x5e1412;_0x134777[_0x36f54a(0x255)](),_0x5b1086[_0x36f54a(0x180)][_0x36f54a(0x2ee)](_0x36f54a(0x219));if(draggedItem&&draggedItem!==_0x5b1086){const _0x57544e=Number(draggedItem[_0x36f54a(0x29a)]['id']),_0x1c3c50=Number(_0x5b1086['dataset']['id']),_0x55ea89=appData[_0x36f54a(0x162)][_0x36f54a(0x187)](_0x4b8810=>_0x4b8810['id']===_0x57544e);let _0x284f60=appData[_0x36f54a(0x162)][_0x36f54a(0x187)](_0x4345e5=>_0x4345e5['id']===_0x1c3c50);if(_0x55ea89>-0x1&&_0x284f60>-0x1){const [_0x5c8bdb]=appData[_0x36f54a(0x162)][_0x36f54a(0x1d7)](_0x55ea89,0x1);_0x55ea89<_0x284f60&&_0x284f60--;const _0x454bb1=_0x5b1086['getBoundingClientRect'](),_0x52fe21=_0x134777[_0x36f54a(0x134)]>_0x454bb1[_0x36f54a(0x1d1)]+_0x454bb1['height']/0x2;_0x52fe21?appData[_0x36f54a(0x162)][_0x36f54a(0x1d7)](_0x284f60+0x1,0x0,_0x5c8bdb):appData[_0x36f54a(0x162)][_0x36f54a(0x1d7)](_0x284f60,0x0,_0x5c8bdb),renumberDayDividers(),saveDataToFirebase();}}}),_0x5b1086[_0x5e1412(0x289)](_0x5e1412(0x1d6),()=>{const _0x5b628e=_0x5e1412;_0x290e78[_0x5b628e(0x1df)](_0x54c0e0=>{const _0x48bce7=_0x5b628e;_0x54c0e0[_0x48bce7(0x180)][_0x48bce7(0x2ee)](_0x48bce7(0x2f1),_0x48bce7(0x219));}),draggedItem=null;});});}function attachRecordActionListeners(){const _0x789d96=_0x3f0f25;document[_0x789d96(0x254)](_0x789d96(0x216))['forEach'](_0x1e80a3=>{const _0x58c681=_0x789d96;_0x1e80a3['addEventListener'](_0x58c681(0x203),_0x144a57=>{const _0x12d8d5=_0x58c681,_0x42e767=Number(_0x144a57[_0x12d8d5(0x227)]['dataset']['id']),_0x7e1ad=appData[_0x12d8d5(0x162)][_0x12d8d5(0x187)](_0x28ece4=>_0x28ece4['id']===_0x42e767);if(_0x7e1ad>-0x1)editExpense(_0x7e1ad);});}),document[_0x789d96(0x254)](_0x789d96(0x25e))['forEach'](_0x21e806=>{const _0x4c5e63=_0x789d96;_0x21e806['addEventListener'](_0x4c5e63(0x203),_0x57d41d=>{const _0x3cac08=_0x4c5e63,_0x182680=Number(_0x57d41d[_0x3cac08(0x227)][_0x3cac08(0x29a)]['id']),_0x4454a4=appData['expenses']['find'](_0x54887d=>_0x54887d['id']===_0x182680);if(_0x4454a4&&_0x4454a4[_0x3cac08(0x25b)]===_0x3cac08(0x1b8)){const _0x5d5353='Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20the\x20\x27'+_0x4454a4[_0x3cac08(0x10f)]+_0x3cac08(0x1f3)+_0x4454a4[_0x3cac08(0x137)]+_0x3cac08(0x1a0);showConfirmation(_0x5d5353,()=>{const _0x1651fb=_0x3cac08;appData['expenses']=appData['expenses'][_0x1651fb(0x124)](_0x175674=>_0x175674['id']!==_0x182680),saveDataToFirebase(),showError(_0x1651fb(0x1ff),0xbb8,'success');});}});}),document[_0x789d96(0x254)](_0x789d96(0x21c))[_0x789d96(0x1df)](_0x58d296=>{const _0xd9dfb=_0x789d96;_0x58d296[_0xd9dfb(0x289)](_0xd9dfb(0x203),_0x1cb10c=>{const _0x3df78a=_0xd9dfb,_0x290b1e=Number(_0x1cb10c[_0x3df78a(0x227)][_0x3df78a(0x29a)]['id']),_0x275d5e=appData[_0x3df78a(0x162)][_0x3df78a(0x1d5)](_0x5b585b=>_0x5b585b['id']===_0x290b1e);if(_0x275d5e){const _0x162f95='Are\x20you\x20sure\x20you\x20want\x20to\x20delete\x20the\x20\x27'+_0x275d5e[_0x3df78a(0x184)]+'\x27\x20divider?';showConfirmation(_0x162f95,()=>{const _0x79715d=_0x3df78a;appData[_0x79715d(0x162)]=appData['expenses']['filter'](_0x53fc46=>_0x53fc46['id']!==_0x290b1e),renumberDayDividers(),saveDataToFirebase(),showError('Divider\x20deleted.',0xbb8,_0x79715d(0x155));});}});});}function editExpense(_0x3f62fa){const _0x3065d3=_0x3f0f25,_0x4a0fd2=appData[_0x3065d3(0x162)][_0x3f62fa];if(!_0x4a0fd2||_0x4a0fd2['type']!=='expense')return;editingExpenseIndex=_0x3f62fa,document[_0x3065d3(0x27c)](_0x3065d3(0x117))[_0x3065d3(0x1ef)]=_0x4a0fd2['mealType'],mealButtons['forEach'](_0x437c5b=>_0x437c5b['classList'][_0x3065d3(0x1ec)]('active',_0x437c5b[_0x3065d3(0x29a)]['meal']===_0x4a0fd2[_0x3065d3(0x10f)])),document[_0x3065d3(0x27c)](_0x3065d3(0x137))[_0x3065d3(0x1ef)]=_0x4a0fd2[_0x3065d3(0x137)],document[_0x3065d3(0x27c)](_0x3065d3(0x2dd))['value']=_0x4a0fd2[_0x3065d3(0x2dd)],currencyButtons[_0x3065d3(0x1df)](_0x126f22=>_0x126f22[_0x3065d3(0x180)][_0x3065d3(0x1ec)](_0x3065d3(0x160),_0x126f22[_0x3065d3(0x29a)][_0x3065d3(0x2dd)]===_0x4a0fd2[_0x3065d3(0x2dd)])),document[_0x3065d3(0x27c)](_0x3065d3(0x2cd))[_0x3065d3(0x1ef)]=_0x4a0fd2[_0x3065d3(0x2cd)],document[_0x3065d3(0x254)](_0x3065d3(0x13a))[_0x3065d3(0x1df)](_0x36edd5=>_0x36edd5[_0x3065d3(0x206)]=![]),document[_0x3065d3(0x254)](_0x3065d3(0x234))[_0x3065d3(0x1df)](_0x78a7fb=>_0x78a7fb[_0x3065d3(0x206)]=![]);if(selectAllBuddiesCheckbox)selectAllBuddiesCheckbox['checked']=![];_0x4a0fd2[_0x3065d3(0x2ae)][_0x3065d3(0x1df)](_0x2bce2a=>{const _0x249874=_0x3065d3,_0x10f709=document[_0x249874(0x2c8)]('#combined-buddies-payer\x20.buddy[value=\x22'+_0x2bce2a+'\x22]');if(_0x10f709)_0x10f709[_0x249874(0x206)]=!![];});const _0x1a3a6a=document[_0x3065d3(0x2c8)](_0x3065d3(0x166)+_0x4a0fd2[_0x3065d3(0x293)]+'\x22]');if(_0x1a3a6a)_0x1a3a6a['checked']=!![];addExpenseBtn[_0x3065d3(0x232)]='üíæ\x20Update\x20Expense',addExpenseBtn[_0x3065d3(0x180)][_0x3065d3(0x2ee)]('bg-sky-500','hover:bg-sky-600',_0x3065d3(0x171)),addExpenseBtn['classList']['add'](_0x3065d3(0x240),'hover:bg-amber-600',_0x3065d3(0x1e1)),showPage('page-expense'),window['scrollTo'](0x0,0x0);}function updateDebtSettlement(){const _0x4f7aee=_0x3f0f25,_0x4ac8db=document[_0x4f7aee(0x27c)](_0x4f7aee(0x1de)),_0x52e3a7=document[_0x4f7aee(0x27c)]('settlement-plan');if(!_0x4ac8db||!_0x52e3a7)return;_0x4ac8db['innerHTML']='',_0x52e3a7[_0x4f7aee(0x232)]='';const _0x46ead5=getCurrencySymbol(appData[_0x4f7aee(0x214)]),_0x487477=_0x2e78ee=>_0x2e78ee[_0x4f7aee(0x2a0)](_0x4f7aee(0x17d),{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),_0x19842d={};appData[_0x4f7aee(0x2ae)]['forEach'](_0x359334=>{_0x19842d[_0x359334]={'paid':0x0,'owed':0x0,'net':0x0};}),appData['expenses'][_0x4f7aee(0x1df)](_0xda713=>{const _0x469cbf=_0x4f7aee;if(_0xda713[_0x469cbf(0x25b)]!=='expense')return;if(_0x19842d[_0xda713[_0x469cbf(0x293)]])_0x19842d[_0xda713[_0x469cbf(0x293)]][_0x469cbf(0x2f6)]+=_0xda713['amountInPrimaryCurrency'];_0xda713[_0x469cbf(0x2ae)][_0x469cbf(0x1df)](_0x4056af=>{if(_0x19842d[_0x4056af])_0x19842d[_0x4056af]['owed']+=_0xda713['perBuddy'];});}),appData[_0x4f7aee(0x2b4)][_0x4f7aee(0x1df)](_0x136756=>{const _0x39f6a2=_0x4f7aee,_0x4c88e9=_0x136756[_0x39f6a2(0x2cd)]/(exchangeRates[_0x136756['originalCurrency']]||0x1);if(_0x19842d[_0x136756[_0x39f6a2(0x201)]])_0x19842d[_0x136756['debtor']]['net']-=_0x4c88e9;if(_0x19842d[_0x136756['creditor']])_0x19842d[_0x136756['creditor']][_0x39f6a2(0x14a)]+=_0x4c88e9;}),appData[_0x4f7aee(0x2ae)][_0x4f7aee(0x1df)](_0x33abae=>{const _0x31c2cb=_0x4f7aee;_0x19842d[_0x33abae][_0x31c2cb(0x14a)]=_0x19842d[_0x33abae][_0x31c2cb(0x2f6)]-_0x19842d[_0x33abae]['owed']+_0x19842d[_0x33abae]['net'];});if(appData[_0x4f7aee(0x2ae)][_0x4f7aee(0x169)]===0x0){_0x4ac8db[_0x4f7aee(0x232)]='<tr><td\x20colspan=\x224\x22\x20class=\x22py-4\x20px-2\x20md:px-4\x20text-center\x20text-slate-500\x22>No\x20buddies\x20yet.</td></tr>',_0x52e3a7[_0x4f7aee(0x232)]=_0x4f7aee(0x17e);return;}appData[_0x4f7aee(0x2ae)]['forEach'](_0x25f058=>{const _0x127b95=_0x4f7aee,_0x27dcca=_0x19842d[_0x25f058][_0x127b95(0x14a)],_0x397c77=_0x27dcca<-0.005?_0x127b95(0x1ed):_0x27dcca>0.005?'text-green-600\x20font-semibold':_0x127b95(0x1b5),_0x5884bb=_0x4ac8db[_0x127b95(0x191)]();_0x5884bb[_0x127b95(0x232)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-3\x20px-2\x20md:px-4\x20text-slate-700\x20font-medium\x20whitespace-normal\x22>'+_0x25f058+_0x127b95(0x1d0)+_0x46ead5+_0x487477(_0x19842d[_0x25f058]['paid'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-3\x20px-2\x20md:px-4\x20text-slate-700\x20whitespace-nowrap\x22>'+_0x46ead5+_0x487477(_0x19842d[_0x25f058]['owed'])+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-3\x20px-2\x20md:px-4\x20whitespace-nowrap\x20'+_0x397c77+'\x22>'+_0x46ead5+_0x487477(_0x27dcca)+_0x127b95(0x113);});const _0x12b0cf=appData[_0x4f7aee(0x2ae)][_0x4f7aee(0x124)](_0x3ee2a3=>_0x19842d[_0x3ee2a3][_0x4f7aee(0x14a)]<-0.005)[_0x4f7aee(0x267)](_0x4c4287=>({'name':_0x4c4287,'amount':-_0x19842d[_0x4c4287][_0x4f7aee(0x14a)]})),_0x546721=appData[_0x4f7aee(0x2ae)]['filter'](_0x556d37=>_0x19842d[_0x556d37]['net']>0.005)[_0x4f7aee(0x267)](_0x4f4ea9=>({'name':_0x4f4ea9,'amount':_0x19842d[_0x4f4ea9]['net']})),_0x12ef2d=[];let _0x202169=0x0,_0x246853=0x0;while(_0x202169<_0x12b0cf[_0x4f7aee(0x169)]&&_0x246853<_0x546721[_0x4f7aee(0x169)]){const _0x4d5f3d=Math[_0x4f7aee(0x26f)](_0x12b0cf[_0x202169][_0x4f7aee(0x2cd)],_0x546721[_0x246853]['amount']);_0x4d5f3d>0.005&&(_0x12ef2d[_0x4f7aee(0x10d)](_0x4f7aee(0x1bc)+_0x12b0cf[_0x202169][_0x4f7aee(0x2b7)]+_0x4f7aee(0x2ca)+_0x546721[_0x246853][_0x4f7aee(0x2b7)]+_0x4f7aee(0x153)+_0x487477(_0x4d5f3d)+'\x20'+appData[_0x4f7aee(0x214)]+_0x4f7aee(0x116)),_0x12b0cf[_0x202169]['amount']-=_0x4d5f3d,_0x546721[_0x246853][_0x4f7aee(0x2cd)]-=_0x4d5f3d);if(_0x12b0cf[_0x202169][_0x4f7aee(0x2cd)]<0.005)_0x202169++;if(_0x546721[_0x246853][_0x4f7aee(0x2cd)]<0.005)_0x246853++;}if(_0x12ef2d[_0x4f7aee(0x169)]===0x0)_0x52e3a7['innerHTML']=_0x4f7aee(0x156);else{const _0x416806=document[_0x4f7aee(0x27f)]('ul');_0x416806['className']=_0x4f7aee(0x208),_0x12ef2d[_0x4f7aee(0x1df)](_0x1b7a66=>{const _0x34a268=_0x4f7aee,_0x2dc45a=document[_0x34a268(0x27f)]('li');_0x2dc45a[_0x34a268(0x1fe)]=_0x34a268(0x163),_0x2dc45a[_0x34a268(0x232)]=_0x1b7a66,_0x416806[_0x34a268(0x197)](_0x2dc45a);}),_0x52e3a7[_0x4f7aee(0x197)](_0x416806);}}function updateAdjustmentsDisplay(){const _0x322426=_0x3f0f25,_0x1f69a8=document[_0x322426(0x27c)]('current-adjustments');if(!_0x1f69a8||!adjustmentDebtorSelect||!adjustmentCreditorSelect)return;_0x1f69a8['innerHTML']='',adjustmentDebtorSelect[_0x322426(0x232)]=_0x322426(0x138),adjustmentCreditorSelect[_0x322426(0x232)]=_0x322426(0x1e0),appData[_0x322426(0x2ae)][_0x322426(0x1df)](_0x3feadd=>{const _0x1bd647=_0x322426;adjustmentDebtorSelect[_0x1bd647(0x12e)](new Option(_0x3feadd,_0x3feadd)),adjustmentCreditorSelect[_0x1bd647(0x12e)](new Option(_0x3feadd,_0x3feadd));}),filterCreditorDropdown();if(appData[_0x322426(0x2b4)][_0x322426(0x169)]===0x0){_0x1f69a8['innerHTML']=_0x322426(0x2a4);return;}const _0x1bbc69=_0x26f181=>_0x26f181[_0x322426(0x2a0)]('en-US',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2});appData['adjustments'][_0x322426(0x1df)]((_0x44b4ea,_0x3219ac)=>{const _0x132dd0=_0x322426,_0x30fcf8=document['createElement'](_0x132dd0(0x223));_0x30fcf8[_0x132dd0(0x1fe)]='relative\x20bg-white\x20p-3.5\x20rounded-lg\x20shadow-sm\x20border\x20border-slate-200\x20text-sm\x20flex\x20justify-between\x20items-center';const _0x1fe2a4=_0x44b4ea[_0x132dd0(0x2cd)]/(exchangeRates[_0x44b4ea[_0x132dd0(0x1f6)]]||0x1),_0x192dd0=_0x132dd0(0x22d)+_0x44b4ea[_0x132dd0(0x1f6)]+'\x20'+_0x1bbc69(_0x44b4ea['amount'])+_0x132dd0(0x2e1)+_0x1bbc69(_0x1fe2a4)+'\x20'+appData[_0x132dd0(0x214)]+_0x132dd0(0x2e6);_0x30fcf8[_0x132dd0(0x232)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22flex-grow\x20flex\x20flex-wrap\x20items-center\x20gap-x-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong\x20class=\x22text-rose-600\x22>'+_0x44b4ea['debtor']+_0x132dd0(0x14d)+_0x44b4ea[_0x132dd0(0x2f2)]+_0x132dd0(0x1dd)+_0x192dd0+_0x132dd0(0x2f9)+_0x3219ac+_0x132dd0(0x129),_0x1f69a8['appendChild'](_0x30fcf8);}),document[_0x322426(0x254)](_0x322426(0x218))['forEach'](_0x347d0e=>{const _0x395ae9=_0x322426;_0x347d0e[_0x395ae9(0x289)](_0x395ae9(0x203),_0x498b02=>{const _0x24039d=_0x395ae9,_0x524b1b=parseInt(_0x498b02[_0x24039d(0x227)][_0x24039d(0x29a)][_0x24039d(0x1d4)]),_0x265492=appData[_0x24039d(0x2b4)][_0x524b1b];if(_0x265492){const _0x5dce1a=_0x24039d(0x2ed)+_0x265492['debtor']+_0x24039d(0x17c)+_0x265492[_0x24039d(0x2f2)]+_0x24039d(0x20a);showConfirmation(_0x5dce1a,()=>{const _0x45c285=_0x24039d;appData[_0x45c285(0x2b4)]['splice'](_0x524b1b,0x1),saveDataToFirebase(),showError(_0x45c285(0x12c),0xbb8,_0x45c285(0x155));});}});});}document[_0x3f0f25(0x27c)](_0x3f0f25(0x288))['addEventListener'](_0x3f0f25(0x203),()=>{const _0x5c376d=_0x3f0f25,_0x342c76=adjustmentDebtorSelect[_0x5c376d(0x1ef)],_0x49e9cf=adjustmentCreditorSelect[_0x5c376d(0x1ef)],_0x21916d=document[_0x5c376d(0x27c)](_0x5c376d(0x2cc))['value'],_0x565c26=parseFloat(adjustmentAmountInput[_0x5c376d(0x1ef)]);if(!_0x342c76||!_0x49e9cf||!_0x21916d||isNaN(_0x565c26)||_0x565c26<=0x0){showError(_0x5c376d(0x236));return;}if(_0x342c76===_0x49e9cf){showError(_0x5c376d(0x2f0));return;}appData[_0x5c376d(0x2b4)][_0x5c376d(0x10d)]({'debtor':_0x342c76,'creditor':_0x49e9cf,'amount':_0x565c26,'originalCurrency':_0x21916d}),saveDataToFirebase(),adjustmentAmountInput[_0x5c376d(0x1ef)]='',calculatorInput[_0x5c376d(0x232)]='',isCalculatorResultShown=![],adjustmentDebtorSelect[_0x5c376d(0x1ef)]='',adjustmentCreditorSelect[_0x5c376d(0x1ef)]='',filterCreditorDropdown(),showError(_0x5c376d(0x265),0xbb8,'success');});function _0x1817(){const _0x5690a5=['.\x20Using\x20fallback\x20rates.','*ü§ù\x20Debt\x20Settlement*\x0a','search','.copy-trip-link-btn','page-auth','new-buddy','Failed\x20to\x20save\x20data:\x20','Aug','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22#\x22\x20class=\x22delete-trip-btn\x20text-rose-600\x20hover:text-rose-800\x20hover:underline\x20text-xs\x20font-semibold\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-trip-id=\x22','Please\x20select\x20a\x20meal\x20type.','createElement','Error:\x20','/trips/','Invalid\x20characters\x20in\x20expression.','copy','perrybillbuddy.firebasestorage.app','perBuddy','shared','addRange','add-adjustment-btn','addEventListener','select','/users/','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22bg-white\x20rounded-xl\x20shadow-xl\x20p-6\x20sm:p-8\x20space-y-5\x20w-full\x20max-w-sm\x20transform\x20scale-95\x20transition-all\x20duration-300\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3\x20class=\x22text-xl\x20font-bold\x20text-center\x20text-slate-800\x22\x20id=\x22confirmation-title\x22></h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x22text-slate-600\x20text-center\x20text-sm\x22\x20id=\x22confirmation-message\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-center\x20gap-3\x20pt-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22cancel-btn\x22\x20class=\x22px-5\x20py-2\x20bg-slate-200\x20text-slate-700\x20rounded-lg\x20hover:bg-slate-300\x20font-semibold\x20transition-colors\x22>','expense-form-title','Untitled\x20Trip','\x20|\x20','Cannot\x20delete\x20','owner','Creating\x20new\x20trip...','payer','_üéâ\x20All\x20debts\x20are\x20settled!_\x0a','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20aria-label=\x22Remove\x20','font-semibold','confirm-join-btn','collapse','Login\x20Failed:\x20','dataset','members','scale-95','*\x20now!\x20üó∫Ô∏èüòä\x0a','trip-primary-currency','1166518WhwTNz','toLocaleString','trim','Error\x20loading\x20trip\x20data.','‚úèÔ∏è\x20Edit\x20Buddy','<p\x20class=\x22text-slate-500\x20text-center\x20py-2\x22>No\x20individual\x20adjustments\x20yet.</p>','User\x20','modal-prompt-input','\x20=\x20<strong\x20class=\x22text-indigo-600\x20font-bold\x22>','center','</div>','none','\x22\x20to:','trip-switcher-modal','*üìä\x20Net\x20Balance\x20Summary\x20(','buddies','Rename\x20buddy\x20\x22','return\x20','bg-sky-500\x20hover:bg-sky-600','\x20from\x20this\x20trip?','create-new-trip-btn','adjustments','.page','logged-in-email-no-trips','name','Nov','summary-total-owed-header','getHours','rounded-lg','Trip\x20invitation\x20link\x20copied!\x20Ready\x20to\x20paste.\x20üìã','My\x20Awesome\x20Trip','bg-red-100','close-trip-switcher-btn','textarea','adjustment-creditor','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>','c86eace6da908459098e7518','getMinutes','replaceState','pt-2\x20border-t\x20border-slate-200\x20mt-2','val','querySelector','.delete-trip-btn','</span>\x20pays\x20<span\x20class=\x22font-medium\x20text-emerald-600\x22>','.\x20They\x20are\x20involved\x20in\x20adjustments.','adjustment-currency','amount','Deleting\x20trip...','draggable','text/plain','execCommand','perrybillbuddy','<span\x20class=\x22text-2xl\x20sm:text-3xl\x22>üìä</span>Expense\x20Summary\x20(','What\x20should\x20we\x20call\x20your\x20new\x20adventure?','Wed','Password\x20reset\x20email\x20sent!\x20Please\x20check\x20your\x20inbox.','confirmation-modal','page','tripId','Please\x20wait...','group-event-name','\x22\x20aria-label=\x22Edit\x20meal\x20record\x22>‚úèÔ∏è</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-meal-record\x20bg-rose-100\x20text-rose-600\x20rounded-full\x20w-6\x20h-6\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20hover:bg-rose-200\x22\x20data-id=\x22','currency','from','.meal-btn','then','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-slate-500\x20text-xs\x22>(~','https://perrybillbuddy-default-rtdb.asia-southeast1.firebasedatabase.app','join','app-nav','*üí±\x20Individual\x20Adjustments:*\x0a',')</span>','.edit-buddy','Fri','--------------------------------------\x0a','NT$','flex\x20justify-between\x20items-center\x20p-2.5\x20cursor-pointer\x20hover:bg-sky-100/80\x20rounded-t-lg\x20','meal-records','Are\x20you\x20sure\x20you\x20want\x20to\x20remove\x20the\x20\x27','remove','modal-prompt-message','Payer\x20and\x20Receiver\x20cannot\x20be\x20the\x20same\x20buddy.','dragging','creditor','1861656mbEwqH','meal','conversion_rates','paid','\x22\x20aria-label=\x22Edit\x20','text-green-700','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-adjustment-btn\x20bg-rose-100\x20text-rose-600\x20rounded-full\x20w-6\x20h-6\x20flex\x20items-center\x20justify-center\x20font-bold\x20hover:bg-rose-200\x20shrink-0\x20ml-2\x22\x20data-index=\x22','Owed','location','total-spent','getFullYear','Error\x20removing\x20member:','log','opacity-0','dragover','push','380690422701','mealType','*\x20pays\x20*','flex','Jan','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Are\x20you\x20sure\x20you\x20want\x20to\x20permanently\x20delete\x20\x27','.record-list-item','</strong>','meal-type','toString','hover:bg-amber-600','modal-prompt-title','*\x20(~','currentUser','scrollTo','<span\x20class=\x22truncate\x22>','Are\x20you\x20sure\x20you\x20want\x20to\x20remove\x20','confirmation-title','cancel-btn','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20gap-3\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22radio\x22\x20name=\x22payer\x22\x20class=\x22payer\x20custom-checkbox\x22\x20value=\x22','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-trip-name=\x22','filter','summary-table','Added\x20','text-red-700','divider','\x22>‚úñ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','page-buddies','Sat','Adjustment\x20removed.','page-invitation-confirm','add','Jul','drop','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sm\x20text-slate-700\x22>','hidden','rotate-180','clientY','#combined-buddies-payer\x20.payer:checked','1458020PcNMsf','restaurant','<option\x20value=\x22\x22>Select\x20Payer</option>','test','#combined-buddies-payer\x20.buddy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22truncate\x20pr-2\x22>','login-email','Successfully\x20joined\x20the\x20trip!\x20üéâ','</span>\x20at\x20','Firebase\x20data\x20listener\x20error:','key','debt-owed-header','loading-overlay','stopPropagation','Please\x20select\x20a\x20currency.','Please\x20add\x20at\x20least\x20one\x20buddy.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-3\x20px-2\x20md:px-4\x20text-slate-700\x20font-medium\x20whitespace-normal\x22>','Please\x20set\x20a\x20trip\x20name\x20on\x20the\x20Buddies\x20tab\x20first.','confirmation-message','move','net','finally','json','</strong>\x20pays\x20<strong\x20class=\x22text-emerald-600\x22>','_No\x20meal\x20records\x20yet._\x0a','settlement-plan','page-summary','smooth','Click\x20to\x20join\x20*','</span>\x20<strong\x20class=\x22text-sky-700\x22>','\x20transaction','success','<p\x20class=\x22text-green-600\x20font-medium\x20text-center\x20py-2\x22>üéâ\x20All\x20debts\x20are\x20settled!</p>','toISOString','some','tripName','Failed\x20to\x20fetch\x20exchange\x20rates:','Are\x20you\x20sure?','placeholder','effectAllowed','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-member-ids=\x22','*\x20|\x20','active','exists','expenses','bg-sky-50\x20p-2.5\x20rounded-md\x20text-sm\x20shadow-sm\x20border\x20border-sky-100','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22absolute\x20top-2\x20right-2\x20flex\x20gap-1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-meal-record\x20bg-sky-100\x20text-sky-600\x20rounded-full\x20w-6\x20h-6\x20flex\x20items-center\x20justify-center\x20text-xs\x20font-bold\x20hover:bg-sky-200\x22\x20data-id=\x22','Failed\x20to\x20remove\x20member:\x20','#combined-buddies-payer\x20.payer[value=\x22','You\x20have\x20been\x20removed\x20from\x20the\x20trip.','\x27\x20has\x20been\x20deleted.','length','#trip-switcher-modal-content','Error\x20deleting\x20trip:','Sending\x20reset\x20email...','this\x20trip','display','Loading\x20trip\x20data...','Confirming\x20join...','active:bg-sky-700','fixed\x20inset-0\x20bg-gray-900\x20bg-opacity-75\x20flex\x20items-center\x20justify-center\x20z-[200]\x20p-4\x20transition-opacity\x20duration-300\x20opacity-0','logout-link-no-trips','adjustment-amount','\x22>‚úèÔ∏è</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-buddy\x20bg-rose-500\x20text-white\x20p-0\x20rounded-md\x20hover:bg-rose-600\x20transition-colors\x20text-lg\x20flex\x20items-center\x20justify-center\x20w-9\x20h-9\x22\x20data-index=\x22','result','<p\x20class=\x22text-slate-500\x20p-1\x22>No\x20members\x20found.</p>','Total\x20Spent:\x20*','This\x20shared\x20trip\x20link\x20is\x20invalid\x20or\x20has\x20been\x20deleted.','Paid','onclick','\x20pays\x20','en-US','<p\x20class=\x22text-slate-500\x20text-center\x20py-2\x22>Add\x20buddies\x20and\x20expenses\x20to\x20see\x20settlements.</p>','perrybillbuddy.firebaseapp.com','classList','members-panel\x20hidden\x20bg-slate-100/70\x20p-3\x20mx-0.5\x20mb-0.5\x20rounded-b-md\x20text-xs\x20text-slate-700\x20space-y-1','\x20-\x20Subtotal\x20','lastActiveTripId','label','\x20\x20Shared\x20with:\x20_','dataTransfer','findIndex','API\x20Error:\x20','logged-in-info-no-trips','textContent','flex\x20justify-between\x20items-center\x20bg-slate-50\x20p-2.5\x20rounded-md','getMonth','meal-record-item\x20record-list-item','split','trimSnaps','groupEventName','insertRow','flex\x20justify-between\x20items-center\x20p-1','logged-in-info','position','.nav-btn','<button\x20class=\x22kick-member-btn\x20text-rose-500\x20hover:text-rose-700\x20transition-colors\x20ml-2\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-trip-id=\x22','appendChild','displayName','Failed\x20to\x20delete\x20trip:\x20','login-form','users/','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x22>Paid\x20by:\x20<strong\x20class=\x22text-slate-700\x22>','Day\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22text-sky-600\x20font-bold\x20text-sm\x22>','Please\x20select\x20who\x20paid.','\x27\x20expense?','clear-trip-name-btn','1227468QHCCrf','Trip\x20','combined-buddies-payer','*\x20*','Trip\x20\x27','hover:bg-sky-600','register-password','trip-switcher-btn','Enter\x20name\x20here','buddy_','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-3\x20px-2\x20md:px-4\x20text-slate-700\x20space-y-1\x20whitespace-normal\x22>','buddy-list',')*\x0a','removeItem','Evaluation\x20error:','onkeydown','.toggle-members-btn','\x0a*---\x20','\x22\x20aria-label=\x22Delete\x20divider\x22>‚úñ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','text-slate-700','meal-carousel','‚Ä¢\x20*','expense','page-expense','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20gap-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-buddy\x20bg-amber-400\x20text-white\x20p-0\x20rounded-md\x20hover:bg-amber-500\x20transition-colors\x20text-lg\x20flex\x20items-center\x20justify-center\x20w-9\x20h-9\x22\x20data-index=\x22','Are\x20you\x20sure\x20you\x20want\x20to\x20reset\x20all\x20expenses\x20and\x20adjustments\x20for\x20this\x20trip?\x20Buddies\x20and\x20trip\x20name\x20will\x20not\x20be\x20changed.','<span\x20class=\x22font-medium\x20text-rose-600\x22>','error','logout-link','\x20added\x20successfully!\x20‚ú®','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Delete\x20Trip\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</a>','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fa-brands\x20fa-whatsapp\x20text-base\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22toggle-members-btn\x20text-slate-500\x20hover:text-sky-500\x20transition-colors\x22\x20aria-label=\x22Show\x20members\x20for\x20','invitation-trip-name','error-type','bg-sky-100\x20font-bold\x20text-sky-600','removeEventListener','<td\x20colspan=\x223\x22\x20class=\x22py-4\x20px-2\x20md:px-4\x20text-center\x20text-slate-500\x22>No\x20buddies\x20added\x20yet.</td>','\x22\x20aria-label=\x22Delete\x20','create-first-trip-btn','style','3171714sXpxnZ','Sep','<span\x20class=\x22text-2xl\x20sm:text-3xl\x22>ü§ù</span>Debt\x20Settlement\x20(','Apr','all','\x20---*\x0a','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22py-3\x20px-2\x20md:px-4\x20text-slate-700\x20whitespace-nowrap\x22>','top','Error\x20joining\x20trip:\x20','keys','index','find','dragend','splice','your-email@example.com','catch','1203414CovBWN','button','Expense\x20updated\x20successfully!\x20‚ú®','</strong>\x20','debt-table','forEach','<option\x20value=\x22\x22>Select\x20Receiver</option>','active:bg-amber-700','HKD','copy-whatsapp','register-email','history','*\x20receives\x20','unshift','trip-list-item-container\x20bg-slate-50\x20rounded-lg','üîë\x20Reset\x20Password','flex\x20items-center\x20justify-between\x20bg-slate-50\x20p-3\x20rounded-lg\x20shadow-sm\x20hover:shadow-md\x20transition-shadow','trips','toggle','text-red-600\x20font-semibold','add-buddy','value','reduce','.trip-list-item-container','API\x20request\x20failed:\x20','\x20@\x20','Tue','message','originalCurrency','*\x20pays\x20','timestamp','closest','Net\x20Balance','May','setData','/trips','className','Expense\x20deleted\x20successfully!','loading-text','debtor','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-user-slash\x20text-sm\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>','click','debt-net-header','<span\x20class=\x22text-slate-400\x22>No\x20expenses</span>','checked','16glHEpc','space-y-2','selectNodeContents','\x27\x20adjustment?','AIzaSyC_fcgI07cxvP26LVW8W3ZqrWwTa3fmvLw','modal-clear-input-btn','\x0aüêæ\x20_Generated\x20by\x20Bill\x20Buddy_\x20üêæ','getDay','\x27?\x20This\x20action\x20will\x20remove\x20the\x20trip\x20for\x20ALL\x20members\x20and\x20cannot\x20be\x20undone.','Group\x20Event','*üí∞\x20','now','getItem','primaryCurrency','undefined','.edit-meal-record','</strong></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22text-xs\x22>Shared\x20with:\x20<em\x20class=\x22text-slate-500\x22>','.delete-adjustment-btn','drag-over','Error\x20handling\x20invitation:\x20','Please\x20enter\x20a\x20place\x20or\x20item\x20name.','.delete-divider','Invalid\x20calculation\x20result.','body','<div\x20class=\x22text-xs\x20font-bold\x20text-sky-700\x20','.members-panel','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22divider-label\x22>','\x22\x20aria-label=\x22Delete\x20meal\x20record\x22>‚úñ</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22flex\x20justify-between\x20items-start\x20mb-1\x20pr-14\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22font-semibold\x20text-slate-800\x20text-sm\x22>','div','getDate','change','bg-sky-500','currentTarget','email','<p\x20class=\x22text-center\x20text-sm\x20text-slate-500\x20py-2\x22>No\x20trips\x20found.</p>','border-red-300','setItem','Mar','<strong\x20class=\x22text-sky-700\x22>','title','<span\x20class=\x22text-lg\x22>üéâ</span>Add\x20Expense','Buddy\x20name\x20must\x20be\x2050\x20characters\x20or\x20less.','Mon','innerHTML','scrollIntoView','#combined-buddies-payer\x20.payer','Please\x20enter\x20a\x20buddy\x20name.','Please\x20select\x20payer,\x20receiver,\x20currency,\x20and\x20a\x20valid\x20amount.','destroy','universal-prompt-modal','focus','Trip\x20data\x20has\x20been\x20reset.\x20üöÄ','</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22confirm-btn\x22\x20class=\x22px-5\x20py-2\x20text-white\x20rounded-lg\x20font-semibold\x20transition-colors\x20','Joining\x20trip...','bg-sky-100','*üßæ\x20Expense\x20Records*\x0a','replace','bg-amber-500','45ljSRnP','#combined-buddies-payer\x20.buddy:checked','pathname','number','Dec','adjustment-debtor','includes','Registration\x20Failed:\x20','getSelection','_Settlement\x20Plan:_\x0a','register-form','16680KPbhvU','submit','\x20\x20Paid\x20by:\x20*','owed','https://v6.exchangerate-api.com/v6/','Total\x20Spent:\x20','removeAllRanges','show-login','querySelectorAll','preventDefault','üöÄ\x20Trip\x20Name','Loading\x20your\x20dashboard...','trips/','</span>','All\x20shared\x20expenses\x20will\x20be\x20settled\x20in\x20','type','Confirm','.currency-btn','.delete-meal-record','\x20has\x20been\x20deleted.','reset','modal-confirm-btn','_No\x20buddies\x20added\x20yet._\x0a','\x20(Owner)',':\x20*','Adjustment\x20added\x20successfully!','You\x27re\x20already\x20a\x20member\x20of\x20this\x20trip!','map','uid','.\x20They\x20are\x20part\x20of\x20existing\x20expenses.','removeChild','\x20was\x20removed\x20from\x20trip\x20','Enter','amountInPrimaryCurrency','\x22>üóëÔ∏è</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','min','add-expense','\x20has\x20been\x20removed\x20from\x20the\x20trip.','padStart','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20class=\x22flex\x20items-center\x20gap-3\x20cursor-pointer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20class=\x22buddy\x20custom-checkbox\x22\x20value=\x22'];_0x1817=function(){return _0x5690a5;};return _0x1817();}function filterCreditorDropdown(){const _0x513637=_0x3f0f25,_0x494402=adjustmentDebtorSelect[_0x513637(0x1ef)],_0x3836b6=adjustmentCreditorSelect[_0x513637(0x1ef)];let _0xb7a8d0=![];Array[_0x513637(0x2de)](adjustmentCreditorSelect['options'])[_0x513637(0x1df)](_0x54383c=>{const _0x229e82=_0x513637;_0x54383c[_0x229e82(0x1c9)][_0x229e82(0x16e)]=_0x54383c[_0x229e82(0x1ef)]===_0x494402&&_0x494402!==''?_0x229e82(0x2aa):'',_0x54383c[_0x229e82(0x1ef)]===_0x3836b6&&_0x54383c[_0x229e82(0x1c9)][_0x229e82(0x16e)]!==_0x229e82(0x2aa)&&(_0xb7a8d0=!![]);});if(!_0xb7a8d0)adjustmentCreditorSelect[_0x513637(0x1ef)]='';}adjustmentDebtorSelect[_0x3f0f25(0x289)](_0x3f0f25(0x225),filterCreditorDropdown);function generateWhatsAppMessage(){const _0x238ce2=_0x3f0f25;let _0x57720a=_0x238ce2(0x211)+(appData['groupEventName']||_0x238ce2(0x210))+'\x20Recap*\x20\x0a\x0a';const _0xa78e96=appData[_0x238ce2(0x214)],_0x17196a=appData['expenses'][_0x238ce2(0x124)](_0x551a84=>_0x551a84[_0x238ce2(0x25b)]==='expense'),_0x15f577=_0x45b8bf=>_0x45b8bf[_0x238ce2(0x2a0)](_0x238ce2(0x17d),{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),_0x55c0e6={};appData[_0x238ce2(0x2ae)]['forEach'](_0x34460c=>{_0x55c0e6[_0x34460c]={'paid':0x0,'owed':0x0,'net':0x0};}),_0x17196a['forEach'](_0x56b411=>{const _0x434c65=_0x238ce2;if(_0x55c0e6[_0x56b411['payer']])_0x55c0e6[_0x56b411[_0x434c65(0x293)]]['paid']+=_0x56b411[_0x434c65(0x26d)];_0x56b411[_0x434c65(0x2ae)][_0x434c65(0x1df)](_0x249b18=>{const _0x114942=_0x434c65;if(_0x55c0e6[_0x249b18])_0x55c0e6[_0x249b18][_0x114942(0x24f)]+=_0x56b411['perBuddy'];});}),appData[_0x238ce2(0x2b4)][_0x238ce2(0x1df)](_0x4bfdef=>{const _0x1b8146=_0x238ce2,_0x5a4c0f=_0x4bfdef[_0x1b8146(0x2cd)]/(exchangeRates[_0x4bfdef['originalCurrency']]||0x1);if(_0x55c0e6[_0x4bfdef[_0x1b8146(0x201)]])_0x55c0e6[_0x4bfdef[_0x1b8146(0x201)]][_0x1b8146(0x14a)]-=_0x5a4c0f;if(_0x55c0e6[_0x4bfdef[_0x1b8146(0x2f2)]])_0x55c0e6[_0x4bfdef['creditor']]['net']+=_0x5a4c0f;}),appData[_0x238ce2(0x2ae)][_0x238ce2(0x1df)](_0xaee634=>{const _0x2203a9=_0x238ce2;_0x55c0e6[_0xaee634]['net']=_0x55c0e6[_0xaee634][_0x2203a9(0x2f6)]-_0x55c0e6[_0xaee634]['owed']+_0x55c0e6[_0xaee634][_0x2203a9(0x14a)];}),_0x57720a+=_0x238ce2(0x2ad)+_0xa78e96+_0x238ce2(0x1ae);appData[_0x238ce2(0x2ae)]['length']>0x0?appData[_0x238ce2(0x2ae)][_0x238ce2(0x1df)](_0x2c7d5a=>{const _0x1ba26f=_0x238ce2,_0x22bc63=_0x55c0e6[_0x2c7d5a][_0x1ba26f(0x14a)];if(_0x22bc63<-0.005)_0x57720a+=_0x1ba26f(0x1b7)+_0x2c7d5a+_0x1ba26f(0x1f7)+_0xa78e96+'\x20'+_0x15f577(-_0x22bc63)+'\x0a';else _0x22bc63>0.005&&(_0x57720a+='‚Ä¢\x20*'+_0x2c7d5a+_0x1ba26f(0x1e6)+_0xa78e96+'\x20'+_0x15f577(_0x22bc63)+'\x0a');}):_0x57720a+=_0x238ce2(0x262);_0x57720a+='\x0a',_0x57720a+=_0x238ce2(0x23e);if(appData[_0x238ce2(0x162)][_0x238ce2(0x169)]>0x0){const _0x2e077b={};let _0x117033=null;appData[_0x238ce2(0x162)]['forEach'](_0x193bda=>{const _0x5df2dd=_0x238ce2;if(_0x193bda[_0x5df2dd(0x25b)]==='divider')_0x117033=_0x193bda[_0x5df2dd(0x184)],_0x2e077b[_0x117033]=0x0;else _0x193bda['type']===_0x5df2dd(0x1b8)&&_0x117033&&(_0x2e077b[_0x117033]+=_0x193bda[_0x5df2dd(0x26d)]);});const _0xdf4016=_0x17196a[_0x238ce2(0x1f0)]((_0x30ead1,_0x43169a)=>_0x30ead1+_0x43169a[_0x238ce2(0x26d)],0x0);_0x57720a+=_0x238ce2(0x178)+_0xa78e96+'\x20'+_0x15f577(_0xdf4016)+_0x238ce2(0x15f)+_0x17196a[_0x238ce2(0x169)]+_0x238ce2(0x154)+(_0x17196a[_0x238ce2(0x169)]!==0x1?'s':'')+'\x0a\x0a',appData['expenses'][_0x238ce2(0x1df)]((_0x5efad6,_0x5b4dfd,_0x296d57)=>{const _0x3fc7e7=_0x238ce2;if(_0x5efad6[_0x3fc7e7(0x25b)]===_0x3fc7e7(0x128)){const _0x423066=_0x2e077b[_0x5efad6['label']]||0x0,_0x3fa358=_0x423066>0x0?'\x20-\x20Subtotal:\x20'+_0xa78e96+'\x20'+_0x15f577(_0x423066):'';_0x57720a+=_0x3fc7e7(0x1b3)+_0x5efad6['label']+_0x3fa358+_0x3fc7e7(0x1cf);}else{const _0x3fd5a1=_0x5efad6;_0x57720a+='‚Ä¢\x20'+_0x3fd5a1[_0x3fc7e7(0x10f)]+_0x3fc7e7(0x1f3)+_0x3fd5a1[_0x3fc7e7(0x137)]+_0x3fc7e7(0x264)+_0x3fd5a1[_0x3fc7e7(0x2dd)]+'\x20'+_0x15f577(_0x3fd5a1[_0x3fc7e7(0x2cd)])+'*\x0a',_0x57720a+=_0x3fc7e7(0x24e)+_0x3fd5a1[_0x3fc7e7(0x293)]+'*\x0a',_0x57720a+=_0x3fc7e7(0x185)+_0x3fd5a1[_0x3fc7e7(0x2ae)][_0x3fc7e7(0x2e3)](',\x20')+'_\x0a';const _0x14d7f4=_0x296d57[_0x5b4dfd+0x1];_0x14d7f4&&_0x14d7f4[_0x3fc7e7(0x25b)]===_0x3fc7e7(0x1b8)&&(_0x57720a+=_0x3fc7e7(0x2e9));}});}else _0x57720a+=_0x238ce2(0x14e);_0x57720a+='\x0a';appData['adjustments'][_0x238ce2(0x169)]>0x0&&(_0x57720a+=_0x238ce2(0x2e5),appData[_0x238ce2(0x2b4)][_0x238ce2(0x1df)](_0x3919ca=>{const _0x57c516=_0x238ce2,_0x2eb70d=_0x3919ca['amount']/(exchangeRates[_0x3919ca['originalCurrency']]||0x1),_0x2fc4e7='*'+_0x3919ca['originalCurrency']+'\x20'+_0x15f577(_0x3919ca[_0x57c516(0x2cd)])+_0x57c516(0x11b)+_0x15f577(_0x2eb70d)+'\x20'+_0xa78e96+')';_0x57720a+=_0x57c516(0x1b7)+_0x3919ca['debtor']+_0x57c516(0x110)+_0x3919ca[_0x57c516(0x2f2)]+'*\x20'+_0x2fc4e7+'\x0a';}),_0x57720a+='\x0a');_0x57720a+=_0x238ce2(0x275);const _0x33ab83=appData[_0x238ce2(0x2ae)][_0x238ce2(0x124)](_0x1bdd7d=>_0x55c0e6[_0x1bdd7d][_0x238ce2(0x14a)]<-0.005)[_0x238ce2(0x267)](_0xdc5847=>({'name':_0xdc5847,'amount':-_0x55c0e6[_0xdc5847]['net']})),_0x20b2be=appData['buddies'][_0x238ce2(0x124)](_0x57d8c4=>_0x55c0e6[_0x57d8c4][_0x238ce2(0x14a)]>0.005)[_0x238ce2(0x267)](_0x377379=>({'name':_0x377379,'amount':_0x55c0e6[_0x377379][_0x238ce2(0x14a)]})),_0x3d82ca=[];let _0x104474=0x0,_0x55264d=0x0;while(_0x104474<_0x33ab83['length']&&_0x55264d<_0x20b2be[_0x238ce2(0x169)]){const _0x16092c=Math['min'](_0x33ab83[_0x104474][_0x238ce2(0x2cd)],_0x20b2be[_0x55264d][_0x238ce2(0x2cd)]);_0x16092c>0.005&&(_0x3d82ca[_0x238ce2(0x10d)](_0x238ce2(0x1a5)+_0x33ab83[_0x104474][_0x238ce2(0x2b7)]+_0x238ce2(0x110)+_0x20b2be[_0x55264d][_0x238ce2(0x2b7)]+_0x238ce2(0x1a5)+_0x15f577(_0x16092c)+'\x20'+_0xa78e96+'*'),_0x33ab83[_0x104474]['amount']-=_0x16092c,_0x20b2be[_0x55264d]['amount']-=_0x16092c);if(_0x33ab83[_0x104474][_0x238ce2(0x2cd)]<0.005)_0x104474++;if(_0x20b2be[_0x55264d]['amount']<0.005)_0x55264d++;}return _0x3d82ca[_0x238ce2(0x169)]===0x0?_0x57720a+=_0x238ce2(0x294):(_0x57720a+=_0x238ce2(0x24a),_0x57720a+=_0x3d82ca['join']('\x0a')+'\x0a'),_0x57720a+=_0x238ce2(0x20d),_0x57720a;}let errorTimeout;function showError(_0x4fb204,_0x3cff8b=0xfa0,_0x35d9d1=_0x3f0f25(0x1bd)){const _0x4eb8ba=_0x3f0f25;if(!errorMsgElement)return;clearTimeout(errorTimeout),errorMsgElement[_0x4eb8ba(0x18a)]=_0x4fb204,errorMsgElement[_0x4eb8ba(0x180)][_0x4eb8ba(0x2ee)]('opacity-0','bg-red-100','text-red-700',_0x4eb8ba(0x22a),'bg-green-100',_0x4eb8ba(0x2f8),'border-green-300'),errorMsgElement['classList'][_0x4eb8ba(0x12e)](_0x4eb8ba(0x10b)),requestAnimationFrame(()=>{const _0x38e8cc=_0x4eb8ba;errorMsgElement['classList']['add'](_0x35d9d1===_0x38e8cc(0x155)?'bg-green-100':_0x38e8cc(0x2be),_0x35d9d1===_0x38e8cc(0x155)?'text-green-700':_0x38e8cc(0x127),_0x35d9d1===_0x38e8cc(0x155)?'border-green-300':_0x38e8cc(0x22a)),errorMsgElement['classList'][_0x38e8cc(0x2ee)](_0x38e8cc(0x10b));}),errorTimeout=setTimeout(()=>errorMsgElement[_0x4eb8ba(0x180)]['add'](_0x4eb8ba(0x10b)),_0x3cff8b);}function showConfirmation(_0x57c727,_0x43bf53,_0x16fedc={}){const _0x3b471c=_0x3f0f25,{title:title=_0x3b471c(0x15b),confirmText:confirmText=_0x3b471c(0x25c),cancelText:cancelText='Cancel',confirmColor:confirmColor='bg-rose-500\x20hover:bg-rose-600'}=_0x16fedc,_0x5596a4=_0x3b471c(0x2d7);let _0x58c5e4=document[_0x3b471c(0x27c)](_0x5596a4);if(_0x58c5e4)_0x58c5e4[_0x3b471c(0x2ee)]();_0x58c5e4=document[_0x3b471c(0x27f)](_0x3b471c(0x223)),_0x58c5e4['id']=_0x5596a4,_0x58c5e4[_0x3b471c(0x1fe)]=_0x3b471c(0x172),_0x58c5e4[_0x3b471c(0x232)]=_0x3b471c(0x28c)+cancelText+_0x3b471c(0x23b)+confirmColor+'\x22>'+confirmText+_0x3b471c(0x2c2),document['body'][_0x3b471c(0x197)](_0x58c5e4),document['getElementById'](_0x3b471c(0x120))[_0x3b471c(0x18a)]=title,document[_0x3b471c(0x27c)](_0x3b471c(0x148))['textContent']=_0x57c727,requestAnimationFrame(()=>{const _0x15b1b4=_0x3b471c;_0x58c5e4[_0x15b1b4(0x180)][_0x15b1b4(0x2ee)](_0x15b1b4(0x10b)),_0x58c5e4[_0x15b1b4(0x2c8)](_0x15b1b4(0x223))['classList'][_0x15b1b4(0x2ee)](_0x15b1b4(0x29c));});const _0x300edf=document['getElementById']('confirm-btn'),_0x3f9025=document[_0x3b471c(0x27c)](_0x3b471c(0x121)),_0x24360d=()=>{const _0x1617c0=_0x3b471c;_0x58c5e4[_0x1617c0(0x180)][_0x1617c0(0x12e)]('opacity-0'),_0x58c5e4[_0x1617c0(0x2c8)](_0x1617c0(0x223))[_0x1617c0(0x180)][_0x1617c0(0x12e)]('scale-95'),setTimeout(()=>{const _0x3a95b8=_0x1617c0;if(_0x58c5e4)_0x58c5e4[_0x3a95b8(0x2ee)]();},0x12c);};_0x300edf[_0x3b471c(0x17b)]=()=>{_0x43bf53(),_0x24360d();},_0x3f9025[_0x3b471c(0x17b)]=_0x24360d;}function showPromptModal(_0x55edac,_0x4e55d6,_0x365591='',_0x5e4eac=_0x3f0f25(0x1aa)){return new Promise(_0x19e04f=>{const _0x3007db=_0xbc94;modalPromptTitle[_0x3007db(0x232)]=_0x55edac,modalPromptMessage[_0x3007db(0x18a)]=_0x4e55d6,modalPromptInput[_0x3007db(0x1ef)]=_0x365591,modalPromptInput[_0x3007db(0x15c)]=_0x5e4eac,universalPromptModal[_0x3007db(0x180)][_0x3007db(0x2ee)](_0x3007db(0x132)),requestAnimationFrame(()=>{const _0x2ae6be=_0x3007db;universalPromptModal[_0x2ae6be(0x180)][_0x2ae6be(0x2ee)](_0x2ae6be(0x10b)),universalPromptModal[_0x2ae6be(0x2c8)](_0x2ae6be(0x223))[_0x2ae6be(0x180)][_0x2ae6be(0x2ee)](_0x2ae6be(0x29c)),modalPromptInput[_0x2ae6be(0x239)](),modalPromptInput[_0x2ae6be(0x28a)]();});const _0x369f73=_0x38a583=>{const _0x5f4e03=_0x3007db;universalPromptModal[_0x5f4e03(0x180)][_0x5f4e03(0x12e)](_0x5f4e03(0x10b)),universalPromptModal[_0x5f4e03(0x2c8)]('div')[_0x5f4e03(0x180)][_0x5f4e03(0x12e)](_0x5f4e03(0x29c)),setTimeout(()=>{const _0x2e1ae2=_0x5f4e03;universalPromptModal['classList'][_0x2e1ae2(0x12e)](_0x2e1ae2(0x132)),modalConfirmBtn[_0x2e1ae2(0x17b)]=null,modalCancelBtn[_0x2e1ae2(0x17b)]=null,_0x19e04f(_0x38a583);},0x12c);};modalConfirmBtn[_0x3007db(0x17b)]=()=>_0x369f73(modalPromptInput['value'][_0x3007db(0x2a1)]()),modalCancelBtn[_0x3007db(0x17b)]=()=>_0x369f73(null),modalPromptInput[_0x3007db(0x1b1)]=_0x4539eb=>{const _0x2770a1=_0x3007db;_0x4539eb[_0x2770a1(0x140)]===_0x2770a1(0x26c)&&(_0x4539eb[_0x2770a1(0x255)](),_0x369f73(modalPromptInput[_0x2770a1(0x1ef)][_0x2770a1(0x2a1)]()));};});}function safeEvaluate(_0x5e79d8){const _0x2ae4cc=_0x3f0f25;try{if(!/^[0-9\s\.\+\-\*\/\(\)]+$/[_0x2ae4cc(0x139)](_0x5e79d8))throw new Error(_0x2ae4cc(0x282));const _0x52ac60=new Function(_0x2ae4cc(0x2b0)+_0x5e79d8)();if(typeof _0x52ac60!==_0x2ae4cc(0x244)||!isFinite(_0x52ac60))throw new Error(_0x2ae4cc(0x21d));return _0x52ac60;}catch(_0x3e3d86){return console['error'](_0x2ae4cc(0x1b0),_0x3e3d86),showError(_0x3e3d86[_0x2ae4cc(0x1f5)],0xbb8,_0x2ae4cc(0x1bd)),null;}}calculatorInput[_0x3f0f25(0x289)]('keydown',_0x24cb4b=>{const _0x108115=_0x3f0f25;if(_0x24cb4b['key']===_0x108115(0x26c)){_0x24cb4b[_0x108115(0x255)]();const _0x3705e6=calculatorInput['textContent'][_0x108115(0x2a1)]();if(!_0x3705e6)return;const _0x1e5b5a=safeEvaluate(_0x3705e6);if(_0x1e5b5a!==null){const _0x688aeb=_0x1e5b5a['toFixed'](0x2);adjustmentAmountInput['value']=_0x688aeb,calculatorInput['innerHTML']=_0x3705e6+_0x108115(0x2a7)+_0x1e5b5a[_0x108115(0x2a0)](_0x108115(0x17d),{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2})+_0x108115(0x116),isCalculatorResultShown=!![];const _0x1de11e=document['createRange'](),_0x1f6c59=window[_0x108115(0x249)]();_0x1de11e[_0x108115(0x209)](calculatorInput),_0x1de11e[_0x108115(0x298)](![]),_0x1f6c59[_0x108115(0x252)](),_0x1f6c59[_0x108115(0x287)](_0x1de11e);}}}),calculatorInput['addEventListener']('input',()=>{const _0x4336ff=_0x3f0f25;isCalculatorResultShown&&(adjustmentAmountInput[_0x4336ff(0x1ef)]='',isCalculatorResultShown=![]);}),clearCalculatorBtn[_0x3f0f25(0x289)]('click',()=>{const _0x3dfce6=_0x3f0f25;calculatorInput['innerHTML']='',adjustmentAmountInput[_0x3dfce6(0x1ef)]='',isCalculatorResultShown=![],calculatorInput['focus']();});function clearForm(){const _0x413257=_0x3f0f25;document[_0x413257(0x27c)]('meal-type')[_0x413257(0x1ef)]='',document[_0x413257(0x27c)]('restaurant')[_0x413257(0x1ef)]='',document['getElementById'](_0x413257(0x2dd))[_0x413257(0x1ef)]='',document[_0x413257(0x27c)](_0x413257(0x2cd))[_0x413257(0x1ef)]='',document[_0x413257(0x254)](_0x413257(0x242))[_0x413257(0x1df)](_0x2a8d73=>_0x2a8d73[_0x413257(0x206)]=![]);const _0x390304=document[_0x413257(0x2c8)](_0x413257(0x135));if(_0x390304)_0x390304[_0x413257(0x206)]=![];if(selectAllBuddiesCheckbox)selectAllBuddiesCheckbox[_0x413257(0x206)]=![];mealButtons[_0x413257(0x1df)](_0x4cc333=>_0x4cc333['classList']['remove'](_0x413257(0x160))),currencyButtons['forEach'](_0x4305b4=>_0x4305b4[_0x413257(0x180)][_0x413257(0x2ee)](_0x413257(0x160)));if(calculatorInput)calculatorInput[_0x413257(0x232)]='';isCalculatorResultShown=![];}function copyToClipboard(_0x2a31d4,_0x5848aa){const _0x370d3e=_0x3f0f25,_0x2f084c=document[_0x370d3e(0x27f)](_0x370d3e(0x2c0));_0x2f084c[_0x370d3e(0x1ef)]=_0x2a31d4,_0x2f084c[_0x370d3e(0x1c9)][_0x370d3e(0x194)]='fixed',_0x2f084c[_0x370d3e(0x1c9)]['opacity']=0x0,document[_0x370d3e(0x21e)]['appendChild'](_0x2f084c),_0x2f084c[_0x370d3e(0x239)](),_0x2f084c[_0x370d3e(0x28a)]();try{document[_0x370d3e(0x2d1)](_0x370d3e(0x283)),showError(_0x5848aa,0xbb8,'success');}catch(_0x43fc92){showError('Failed\x20to\x20copy\x20data.',0xbb8,_0x370d3e(0x1bd));}document[_0x370d3e(0x21e)][_0x370d3e(0x26a)](_0x2f084c);}
